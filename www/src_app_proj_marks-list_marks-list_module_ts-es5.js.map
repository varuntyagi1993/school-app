{"version":3,"sources":["webpack:///src/app/proj/marks-list/marks-list-routing.module.ts","webpack:///src/app/proj/marks-list/marks-list.module.ts","webpack:///src/app/proj/marks-list/marks-list.page.ts","webpack:///src/app/proj/marks-list/marks-list.page.scss","webpack:///src/app/proj/marks-list/marks-list.page.html"],"names":["routes","path","component","MarksListPage","MarksListPageRoutingModule","NgModule","imports","RouterModule","exports","MarksListPageModule","CommonModule","FormsModule","ReactiveFormsModule","IonicModule","declarations","authService","formBuilder","gelService","plt","previewAnyFile","isExamType","isMarks","message","pdfObj","show_internal_marks_as_grade_flag","examForm","group","exam","Validators","examType","token","localStorage","getItem","student_id","getMarksInfo","data","link","loadingPresent","g_get","subscribe","console","log","exam_type","loadingDismiss","error","status","loginAgain","status_code","presentAlert_g","assessmentDeatils","detail","g_postt","hide_attendance_flag","length","marks","subjects","attendance","examList","url","base_path","value","preview","then","err","alert","JSON","stringify","Promise","resolve","reject","img","Image","setAttribute","onload","canvas","document","createElement","width","height","ctx","getContext","drawImage","dataURL","toDataURL","onerror","src","AuthService","FormBuilder","GeneralService","Platform","PreviewAnyFile","Component","selector","template"],"mappings":"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d,CAAoB,UAApB;AADjB,aAAX;AAGHpB,mBAAO,CAACC,GAAR,CAAYN,IAAZ,EAVe,CAWf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAED,WA3KuB,CA4KxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAjZwB;AAAA;AAAA,iBAmZxB,+BAAsBuB,GAAtB,EAA2B;AACzB,mBAAO,IAAIS,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,kBAAIC,GAAG,GAAG,IAAIC,KAAJ,EAAV;AACAD,iBAAG,CAACE,YAAJ,CAAiB,aAAjB,EAAgC,WAAhC;;AACAF,iBAAG,CAACG,MAAJ,GAAa,YAAM;AACjB,oBAAIC,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAb;AACAF,sBAAM,CAACG,KAAP,GAAeP,GAAG,CAACO,KAAnB;AACAH,sBAAM,CAACI,MAAP,GAAgBR,GAAG,CAACQ,MAApB;AACA,oBAAIC,GAAG,GAAGL,MAAM,CAACM,UAAP,CAAkB,IAAlB,CAAV;AACAD,mBAAG,CAACE,SAAJ,CAAcX,GAAd,EAAmB,CAAnB,EAAsB,CAAtB;AACA,oBAAIY,OAAO,GAAGR,MAAM,CAACS,SAAP,CAAiB,WAAjB,CAAd;AACAf,uBAAO,CAACc,OAAD,CAAP;AACD,eARD;;AASAZ,iBAAG,CAACc,OAAJ,GAAc,UAAAxC,KAAK,EAAI;AACrByB,sBAAM,CAACzB,KAAD,CAAN;AACD,eAFD;;AAGA0B,iBAAG,CAACe,GAAJ,GAAU3B,GAAV;AACD,aAhBM,CAAP;AAiBD;AArauB;;AAAA;AAAA,S;;;;gBAVjB,2DAAA4B;;gBAVA,4CAAAC;;gBAWA,8DAAAC;;gBACA,4CAAAC;;gBACA,gEAAAC;;;;AAOIvF,oBAAa,uDALzB,+CAAAwF,SAAA,EAAU;AACTC,gBAAQ,EAAE,gBADD;AAETC,gBAAQ,EAAR,wEAFS;;AAAA,OAAV,CAKyB,GAAb1F,cAAa,CAAb;;;;;;;;;;;;;;;ACrBb;;;AAAA,uCAAe,0gEAAf;;;;;;;;;;;;;;;ACAA;;;AAAA,uCAAe,6+HAAf","file":"src_app_proj_marks-list_marks-list_module_ts-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MarksListPage } from './marks-list.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MarksListPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MarksListPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MarksListPageRoutingModule } from './marks-list-routing.module';\n\nimport { MarksListPage } from './marks-list.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    MarksListPageRoutingModule\n  ],\n  declarations: [MarksListPage]\n})\nexport class MarksListPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\n//import { InAppBrowser } from '@ionic-native/in-app-browser/ngx';\n// import { PDFGenerator } from '@ionic-native/pdf-generator/ngx';\n// import { FileOpener } from '@ionic-native/file-opener/ngx';\n// import { File } from '@ionic-native/file/ngx';\n\n// import pdfMake from 'pdfmake/build/pdfmake';\n// import pdfFonts from 'pdfmake/build/vfs_fonts';\n// pdfMake.vfs = pdfFonts.pdfMake.vfs;\n\nimport { AuthService } from 'src/app/services/auth.service';\nimport { GeneralService } from 'src/app/services/general.service';\nimport { Platform } from '@ionic/angular';\nimport { PreviewAnyFile } from '@ionic-native/preview-any-file/ngx';\n\n@Component({\n  selector: 'app-marks-list',\n  templateUrl: './marks-list.page.html',\n  styleUrls: ['./marks-list.page.scss'],\n})\nexport class MarksListPage implements OnInit {\n  token: any;\n  student_id: any;\n  exam_practicular: any;\n  exam_type: any;\n  examForm: FormGroup;\n  isExamType = false;\n  isMarks = false;\n  marks: any;\n  subjects: any;\n  attendance: any;\n  message = '';\n  result: any;\n  content: string;\n  pdfObj = null;\n  examList: any;error:any;hide_attendance_flag:any;\n  show_internal_marks_as_grade_flag = false;\n  constructor(public authService: AuthService,\n    public formBuilder: FormBuilder,\n    public gelService: GeneralService,\n    // private pdfGenerator: PDFGenerator,\n    private plt: Platform,\n      // private file: File,\n      private previewAnyFile: PreviewAnyFile,\n      // private fileOpener: FileOpener\n    //private inapp: InAppBrowser\n    ) { }\n\n  ngOnInit() {\n    this.examForm = this.formBuilder .group({\n      exam: ['', [Validators.required]],\n      examType: ['', [Validators.required]]\n    });\n  }\n\n  ionViewWillEnter() {\n    this.token = localStorage.getItem(\"pas_tok\");\n    this.student_id = localStorage.getItem(\"c_stud\");\n    this.getMarksInfo();\n    //console.log(this.exam_practicular)\n  }\n\n  // examParticular() {\n  //   var data = '';\n  //   var link = \"student/\" + this.student_id + \"/assessment-particulars\";\n  //   console.log(link)\n  //   this.gelService.loadingPresent();\n  //   this.authService.g_get(data, link, this.token)\n  //       .subscribe(\n  //         data => {\n  //           console.log(data)\n  //           this.exam_practicular = data;\n  //           this.gelService.loadingDismiss();\n  //         }\n  //       );\n\n  // }\n\n  getMarksInfo() {\n\n    //this.isExamType = true;\n    var data = '';\n    var link = \"student/\" + this.student_id + \"/assessment-particulars\";\n    //console.log(examParticular.detail['value'])\n    this.gelService.loadingPresent();\n    this.authService.g_get(data, link, this.token)\n        .subscribe(\n          data => {\n            console.log(data)\n            this.exam_type = data;\n            this.gelService.loadingDismiss();\n          },  error => {\n            this.gelService.loadingDismiss();\n            if(error.status == 401 ) {\n\n              this.authService.loginAgain();\n              //this.router.navigateByUrl('/login');\n\n            }\n            else if (error.status == 400) {\n              this.error = error.message;\n              console.error(\"Error!\", error.status_code, error.message);\n              this.gelService.presentAlert_g(this.error);\n            }\n            else{\n              console.log(error);\n\n              this.gelService.presentAlert_g(\"Please check your Internet Connection\");\n            }\n          }\n        );\n\n  }\n\n  getProgressInfo(assessmentDeatils) {\n    console.log(this.token)\n    var data = {\n                  \"assessment_particular_id\" : assessmentDeatils.detail['value']\n                };\n                console.log(data);\n    var link = \"student/\" + this.student_id + \"/progress-report\";\n    console.log(link)\n    this.gelService.loadingPresent();\n    this.authService.g_postt(data, link, this.token)\n    .subscribe(\n      data => {\n        console.log(data)\n        this.hide_attendance_flag = data['hide_attendance_flag'];\n        if(data['marks'].length != 0) {\n          this.marks = data['marks'];\n          this.subjects = data['subjects'];\n          this.attendance = data['attendance'].length == 0 ? '' : data['attendance'];\n          //this.result = data['']\n          this.show_internal_marks_as_grade_flag = data['show_internal_marks_as_grade_flag'];\n          this.examList = data['examList'];\n          this.isMarks = true;\n          this.message = '';\n          console.log(this.attendance.length == 0);\n        }else {\n          this.isMarks = false;\n          this.message = 'No Data Found'\n          this.examList = '';\n        }\n        this.gelService.loadingDismiss();\n        console.log(this.isMarks)\n\n      },  error => {\n        this.gelService.loadingDismiss();\n        if(error.status == 401 ) {\n\n          this.authService.loginAgain();\n          //this.router.navigateByUrl('/login');\n\n        }\n        else if (error.status == 400) {\n          this.error = error.message;\n          this.message = error.message;\n          console.error(\"Error!\", error.status_code, error.message);\n          // this.gelService.presentAlert_g(this.error);\n        }\n        else{\n          console.log(error.message);\n          this.message = \"No Data Found\";\n          \n          // error.message;\n          // this.gelService.presentAlert_g(\"Please check your Internet Connection\");\n        }\n      }\n    );\n\n  }\n  downloadReport() {\n    var url = this.authService.base_path +'student/'+this.student_id+'/download-marks?assessment_particular_id='+this.examForm.value['examType']+'&type=pdf';\n    console.log(url)\n    this.previewAnyFile.preview(url).then(() => {}\n    ,(err) => {\n      alert(JSON.stringify(err)); \n    })\n       var data = {\n      \"assessment_particular_id\" : this.examForm.value['examType']\n    };\n    console.log(data)\n    // var link = \"student/\" + this.student_id + \"/download-marks\";\n    // // // this.gelService.loadingPresent();\n    // this.authService.g_postt(data, link, this.token)\n    // .subscribe(\n    //   data => {\n    //     console.log(data)\n    //     // window.open(data);\n    //   });\n\n  }\n  // async downloadReport() {\n  // const logo = await this.getBase64ImageFromURL(\"../../assets/images/logo.jpeg\");\n  //   var data = {\n  //     \"assessment_particular_id\" : this.examForm.value['examType']\n  //   };\n  //   var link = \"student/\" + this.student_id + \"/download-marks\";\n  //   this.gelService.loadingPresent();\n  //   this.authService.g_postt(data, link, this.token)\n  //   .subscribe(\n  //     data => {\n  //       console.log(data);\n  //       var docDefinition;\n  //       var examList = data['examList'];\n  //       var academicYear = data['academicYear'];\n  //       var downloadDate = data['downloadDate'];\n  //       var institutionDetails = data['institutionDetails'];\n  //       var studentDetails = data['studentDetails'];\n  //       var marks = data['marks'];\n  //       var totalMaxMarks = data['totalMaxMarks'];\n  //       var totalMinMarks = data['totalMinMarks'];\n  //       var totalObtainedMarks = data['totalObtainedMarks'];\n  //       // const logo = await\n  //      //console.log(logo)\n  //      //await\n  //       var i=1;\n  //       var markslist = marks.map(function(item) {\n  //         return [\n  //           { text: i++, alignment: 'center' },\n  //           { text: item['subject_name'],  },\n  //           { text: item['max_marks'], alignment: 'center' },\n  //           { text: item['min_marks'], alignment: 'center' },\n  //           { text: item['reason'] ? item['reason'] : item['set_marks'], alignment: 'center' }\n  //         ];\n  //       });\n\n  //       markslist.push(\n  //         [\n  //           { text: \"TOTAL MARKS\", colSpan: 2, aligments: 'center', bold: true, margin: [ 60, 0, 0,0]},\n  //           {},\n  //           { text: totalMaxMarks, alignment: 'center'},\n  //           { text: totalMinMarks, alignment: 'center'},\n  //           { text: totalObtainedMarks, alignment: 'center'},\n  //         ]\n  //       )\n\n  //       var student_details =  [\n  //         [\n  //           {text: \"NAME :\", bold: true},\n  //           {text: studentDetails['student_name'], bold: true, margin: [ -53, 0, 0, 0 ]},\n  //           {text: \"ADMISSION NO :\", bold: true, margin: [ -1, 0, 0, 0 ]},\n  //           {text: studentDetails['admission_number'], bold: true, margin: [ -16, 0, 0, 0 ]},\n  //         ],\n  //         [\n  //           {text:  \"CLASS & SEC  :\", bold: true},\n  //           {text: studentDetails['course_name']+' & '+ studentDetails['batch_name'], bold: true, margin: [ -20, 0, 0, 0 ]},\n  //           {text: \"\"},\n  //           {text: \"\"}\n  //         ]\n  //       ];\n\n  //       markslist.unshift(\n  //         [\n  //           { text: '', colSpan: 2},\n  //           { },\n  //           { text: examList, colSpan: 3, alignment: 'center', bold: true },\n  //           {},\n  //           {}\n  //         ],\n  //         [\n  //           { text: 'SL. No', alignment: 'center', bold: true },\n  //           { text: 'SUBJECT',  alignment: 'center',  bold: true},\n  //           { text:\"MAX. MARKS\", alignment: 'center',  bold: true },\n  //           { text:\"MIN. MARKS\", alignment: 'center',  bold: true },\n  //           { text:\"OBTAINED MARKS\", alignment: 'center',  bold: true }\n  //         ]\n  //       );\n  //   docDefinition = {\n  //     content: [\n  //       {\n  //         columns: [\n  //           {\n  //               image: logo,\n  //               width: 70,\n  //               height: 80,\n  //               alignment: 'center'\n  //           },\n  //           [\n\n  //             {text: institutionDetails['institution'].toUpperCase( ), style: 'title'},\n  //             {text: institutionDetails['address'].toUpperCase( ), style: 'sub_title'},\n  //             {text: institutionDetails['city'].toUpperCase( ), style: 'sub_title'},\n  //             {text: 'Phone No. ' + institutionDetails['phone_number'], style: 'f_title'},\n  //             {text: 'Email: ' + institutionDetails['email_address'], style: 'f_title'},\n  //           ],\n\n  //         ]\n  //       },\n  //       {\n  //         margin: [ 0, 40, 0,10],\n  //         layout: 'noBorders',\n  //         //color: '#444',\n\n  //         fontSize: 18,\n  //         table: {\n  //           // headers are automatically repeated if the table spans over multiple pages\n  //           // you can declare how many rows should be treated as headers\n  //           headerRows: 1,\n  //           widths: [ 400, 100],\n\n  //           body: [\n  //             [\n  //               {text: 'PROGRESS REPORT - ' + academicYear, alignment: 'center', fontSize:13, bold: true, colSpan: 2},\n  //               {}\n\n  //             ]\n  //             // [ { text: 'Bold value', bold: true }, 'Val 2', 'Val 3', 'Val 4' ]\n  //           ]\n  //         }\n  //       },\n  //       {\n  //         margin: [ 0, 20, 0,10],\n  //         style: 'header',\n  //         layout: 'noBorders',\n  //         table: {\n  //           widths: [80,280,80,50],\n  //           headerRows: 1,\n  //           body: student_details\n  //         }\n  //       },\n  //       {\n\n  //         style: 'header',\n  //         //color: '#444',\n  //         headerRows: 2,\n  //         table: {\n  //           widths: [40, 150, 90, 90, 90],\n  //           headerRows: 1,\n  //           body: markslist\n\n  //         }\n  //       }\n  //     ],\n  //     styles: {\n  //       header: {\n  //         fontSize: 9,\n  //         //bold: true,\n  //         margin: [0, 0, 0, 10]\n  //       },\n  //       title: {\n  //         bold: true,\n  //         fontSize: 18,\n  //         alignment: 'center',\n  //         margin: [ -75, 0, 0,0]\n  //       },\n  //       sub_title: {\n  //         bold: true,\n  //         fontSize: 12,\n  //         alignment: 'center',\n  //         margin: [ -75, 0, 0,0]\n  //       },\n  //       f_title: {\n  //         bold: true,\n  //         fontSize: 10,\n  //         alignment: 'center',\n  //         margin: [ -75, 0, 0,0]\n  //       },\n  //       footer_title: {\n  //         bold: true,\n  //         fontSize: 10,\n  //         alignment: 'right'\n  //       }\n  //     }\n\n  //   }\n\n  //   this.pdfObj = pdfMake.createPdf(docDefinition);\n  //   // this.pdfObj.open();\n  //   if(this.plt.is('cordova')){\n  //     this.pdfObj.getBuffer((buffer) => {\n  //       var utf8 = new Uint8Array(buffer);\n  //       var binaryArray = utf8.buffer;\n  //       var blob = new Blob([binaryArray], { type: 'application/pdf'});\n\n  //       this.file.writeFile(this.file.dataDirectory, 'ProgressCard.pdf', blob, { replace: true }).then(fileEntry => {\n  //         console.log(this.file.dataDirectory)\n  //         this.fileOpener.open(this.file.dataDirectory + 'ProgressCard.pdf', 'application/pdf');\n  //       })\n  //     })\n  //   }else {\n  //     this.pdfObj.open();\n  //   }\n\n  //   this.gelService.loadingDismiss();\n  //     },  error => {\n  //       this.gelService.loadingDismiss();\n  //       if(error.status == 401 ) {\n\n  //         this.authService.loginAgain();\n  //         //this.router.navigateByUrl('/login');\n\n  //       }\n  //       else if (error.status == 400) {\n  //         this.error = error.message;\n  //         console.error(\"Error!\", error.status_code, error.message);\n  //         this.gelService.presentAlert_g(this.error);\n  //       }\n  //       else{\n  //         console.log(error);\n\n  //         this.gelService.presentAlert_g(\"Please check your Internet Connection\");\n  //       }\n  //     }\n  //   )\n  //   //this.inapp.create('https://www.irjet.net/archives/V4/i2/IRJET-V4I2413.pdf', '_system')\n  //   //console.log(this.examForm.value['examType']);\n  //   // this.content = \"<h1>welcome</h1>\";\n  //   // let options = {\n  //   //   documentSize: 'A4',\n  //   //   type: 'share',\n  //   //   // landscape: 'portrait',\n  //   //   fileName: 'Order-Invoice.pdf'\n  //   // };\n  //   // this.pdfGenerator.fromData(this.content, options)\n  //   //   .then((base64) => {\n  //   //     console.log('OK', base64);\n  //   //   }).catch((error) => {\n  //   //     console.log('error', error);\n  //   //   });\n\n  // }\n\n  getBase64ImageFromURL(url) {\n    return new Promise((resolve, reject) => {\n      var img = new Image();\n      img.setAttribute(\"crossOrigin\", \"anonymous\");\n      img.onload = () => {\n        var canvas = document.createElement(\"canvas\");\n        canvas.width = img.width;\n        canvas.height = img.height;\n        var ctx = canvas.getContext(\"2d\");\n        ctx.drawImage(img, 0, 0);\n        var dataURL = canvas.toDataURL(\"image/png\");\n        resolve(dataURL);\n      };\n      img.onerror = error => {\n        reject(error);\n      };\n      img.src = url;\n    });\n  }\n\n}\n","export default \"p {\\n  font-size: 15px;\\n}\\n\\nion-slides {\\n  width: 100% !important;\\n}\\n\\n.tabl ion-row {\\n  border-right: 1px solid #fff;\\n}\\n\\n.tabl ion-col {\\n  border: 1px solid #fff;\\n  border-bottom-width: inherit;\\n  border-right-width: inherit;\\n}\\n\\nion-col {\\n  text-align: center;\\n}\\n\\nion-col ion-icon {\\n  font-size: 24px;\\n  margin-top: 1px;\\n  color: #ae5c50;\\n}\\n\\nion-grid p {\\n  margin: 1px 0;\\n}\\n\\n.abst_list {\\n  background: #b9cbff;\\n}\\n\\n.a_list {\\n  background: #ae5c50;\\n  color: white;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hcmtzLWxpc3QucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZUFBQTtBQUNKOztBQUVBO0VBQ0ksc0JBQUE7QUFDSjs7QUFHSTtFQUNJLDRCQUFBO0FBQVI7O0FBRUk7RUFDSSxzQkFBQTtFQUNBLDRCQUFBO0VBQ0EsMkJBQUE7QUFBUjs7QUFJQTtFQUNJLGtCQUFBO0FBREo7O0FBRUk7RUFDSSxlQUFBO0VBQ0EsZUFBQTtFQUNBLGNBQUE7QUFBUjs7QUFPSTtFQUNJLGFBQUE7QUFKUjs7QUFRQTtFQUNJLG1CQUFBO0FBTEo7O0FBUUE7RUFDSSxtQkFBQTtFQUNBLFlBQUE7QUFMSiIsImZpbGUiOiJtYXJrcy1saXN0LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbInAge1xuICAgIGZvbnQtc2l6ZTogMTVweDtcbn1cblxuaW9uLXNsaWRlcyB7XG4gICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcbn1cblxuLnRhYmwge1xuICAgIGlvbi1yb3cge1xuICAgICAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjZmZmO1xuICAgIH1cbiAgICBpb24tY29sIHtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2ZmZjtcbiAgICAgICAgYm9yZGVyLWJvdHRvbS13aWR0aDogaW5oZXJpdDtcbiAgICAgICAgYm9yZGVyLXJpZ2h0LXdpZHRoOiBpbmhlcml0O1xuICAgIH1cbn1cblxuaW9uLWNvbCB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGlvbi1pY29uIHtcbiAgICAgICAgZm9udC1zaXplOiAyNHB4O1xuICAgICAgICBtYXJnaW4tdG9wOiAxcHg7XG4gICAgICAgIGNvbG9yOiAjYWU1YzUwO1xuICAgIH1cbiAgICAvLyBib3JkZXI6IDFweCBzb2xpZCByZ2IoMTE2LCAxMDksIDEwOSk7XG59XG5cbmlvbi1ncmlkIHtcbiAgICAvLyBwYWRkaW5nOiAwIDVweCAhaW1wb3J0YW50O1xuICAgIHAge1xuICAgICAgICBtYXJnaW46IDFweCAwO1xuICAgIH1cbn1cblxuLmFic3RfbGlzdCB7XG4gICAgYmFja2dyb3VuZDogI2I5Y2JmZjtcbn1cblxuLmFfbGlzdCB7XG4gICAgYmFja2dyb3VuZDogI2FlNWM1MDtcbiAgICBjb2xvcjogd2hpdGU7XG59XG5cbi8vIC5hYnN0X2xpc3QgaW9uLXJvdzpsYXN0LWNoaWxkIHtcbi8vICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzc0NmQ2ZDtcbi8vIH0iXX0= */\";","export default \"<ion-header>\\n  <ion-toolbar color=\\\"menu\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"home\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title> Progress Report</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <form [formGroup]=\\\"examForm\\\">\\n    <!-- <ion-item>\\n      <ion-label floating\\n        >Exam<span class=\\\"mandatory-asterick\\\">*</span></ion-label\\n      >\\n        <ion-select  \\n          formControlName=\\\"exam\\\"\\n          placeholder=\\\"Exam\\\"\\n          (ionChange)=\\\"getMarksInfo($event)\\\">\\n          <ion-select-option\\n          *ngFor=\\\"let item of exam_practicular;\\\"\\n          [value]=\\\"item.exam_particular_id\\\"\\n          >{{item.name}}</ion-select-option>\\n        </ion-select>\\n    </ion-item> -->\\n    <ion-item>\\n      <ion-label floating>Exam</ion-label>\\n      <ion-select formControlName=\\\"examType\\\" placeholder=\\\"Select\\\" (ionChange)=\\\"getProgressInfo($event)\\\">\\n        <ion-select-option *ngFor=\\\"let item of exam_type;\\\" [value]=\\\"item.assessment_particular_id\\\">\\n          {{item.name}}\\n        </ion-select-option>\\n      </ion-select>\\n    </ion-item>\\n\\n  </form>\\n  <ion-grid class=\\\"tabl\\\" *ngIf=\\\"isMarks\\\">\\n    <ion-row>\\n      <ion-col>\\n        <h2 style=\\\"font-weight: bold;\\\">{{examList }} Progress Report</h2>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row class=\\\"a_list\\\">\\n      <ion-col [size]=\\\"hide_attendance_flag ? 6 : 4\\\">\\n        <p>Subjects</p>\\n      </ion-col>\\n      <ion-col *ngIf=\\\"!hide_attendance_flag\\\" [size]=\\\"hide_attendance_flag ? 6 : 4\\\">\\n        <p>Attendance</p>\\n      </ion-col>\\n      <ion-col [size]=\\\"hide_attendance_flag ? 6 : 4\\\" *ngIf=\\\"!show_internal_marks_as_grade_flag\\\">\\n        <p>Marks</p>\\n      </ion-col>\\n      <ion-col [size]=\\\"hide_attendance_flag ? 6 : 4\\\" *ngIf=\\\"show_internal_marks_as_grade_flag\\\">\\n        <p>Grades</p>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row class=\\\"abst_list\\\" *ngFor=\\\"let subject of subjects\\\">\\n      <ion-col [size]=\\\"hide_attendance_flag ? 6 : 4\\\">\\n        <p style=\\\"text-align: left;\\\">{{subject}}</p>\\n      </ion-col>\\n      \\n      <ion-col [size]=\\\"hide_attendance_flag ? 6 : 4\\\" *ngIf=\\\"attendance &&!hide_attendance_flag\\\">\\n        <p>{{attendance[subject][0]['attended']}} / {{attendance[subject][0]['total_classes']}}</p>\\n      </ion-col>\\n      <ion-col [size]=\\\"hide_attendance_flag ? 6 : 4\\\" *ngIf=\\\"!attendance &&!hide_attendance_flag\\\">\\n        <p>--</p>\\n      </ion-col>\\n\\n\\n      <ion-col [size]=\\\"hide_attendance_flag ? 6 : 4\\\" *ngIf=\\\"marks[subject][0] && !show_internal_marks_as_grade_flag\\\">\\n        <p *ngIf=\\\"marks[subject][0]['marks']\\\">\\n          {{marks[subject][0]['marks'] }} <span\\n            *ngIf=\\\"marks[subject][0]['min_marks'] > 0\\\">({{marks[subject][0]['max_marks']}}/{{marks[subject][0]['min_marks']}})</span>\\n            <span\\n            *ngIf=\\\"marks[subject][0]['min_marks'] <= 0\\\">/{{marks[subject][0]['max_marks']}}</span>\\n        </p>\\n        <p *ngIf=\\\"!marks[subject][0]['marks']\\\">\\n          -\\n        </p>\\n      </ion-col>\\n      <ion-col [size]=\\\"hide_attendance_flag ? 6 : 4\\\" *ngIf=\\\"marks[subject][0] && show_internal_marks_as_grade_flag\\\">\\n        <p *ngIf=\\\"marks[subject][0]['grade']\\\">\\n          {{marks[subject][0]['grade']}}\\n        </p>\\n        <p *ngIf=\\\"!marks[subject][0]['grade']\\\">\\n          -\\n        </p>\\n      </ion-col>\\n      <ion-col [size]=\\\"hide_attendance_flag ? 6 : 4\\\" *ngIf=\\\"!marks[subject][0]\\\">\\n        <p>-</p>\\n      </ion-col>\\n    </ion-row>\\n    <!-- <ion-row class=\\\"abst_list\\\">\\n      <ion-col size=\\\"8\\\">Result</ion-col>\\n      <ion-col size=\\\"4\\\">{{marks['result']}}</ion-col>\\n    </ion-row>-->\\n    <ion-row>\\n      <ion-col>\\n        <ion-button class=\\\"mt-0\\\" tappable shape=\\\"round\\\" color=\\\"tertiary\\\" (click)=\\\"downloadReport()\\\">Download Progress\\n          Report</ion-button>\\n      </ion-col>\\n    </ion-row>\\n\\n  </ion-grid>\\n  <ion-grid class=\\\"tabl\\\" *ngIf=\\\"!isMarks\\\">\\n    <ion-row><ion-col>{{message}}</ion-col></ion-row>\\n  </ion-grid>\\n</ion-content>\";"]}