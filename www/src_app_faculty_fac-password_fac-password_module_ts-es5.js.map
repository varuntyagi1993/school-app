{"version":3,"sources":["webpack:///src/app/faculty/fac-password/fac-password-routing.module.ts","webpack:///src/app/faculty/fac-password/fac-password.module.ts","webpack:///src/app/faculty/fac-password/fac-password.page.ts","webpack:///src/app/faculty/fac-password/fac-password.page.scss","webpack:///src/app/faculty/fac-password/fac-password.page.html"],"names":["routes","path","component","FacPasswordPage","FacPasswordPageRoutingModule","NgModule","imports","RouterModule","exports","FacPasswordPageModule","CommonModule","FormsModule","ReactiveFormsModule","IonicModule","declarations","formBuilder","authService","router","generalts","actroute","submitted","changeForm","group","oldpassword","Validators","password","confirmPassword","validator","MustMatch","token","localStorage","getItem","controls","invalid","pas","value","console","log","loadingPresent","g_postt_fac","subscribe","data","status","message","showToast","navigateByUrl","reset","loadingDismiss","error","status_code","loginAgain","err","FormBuilder","AuthService","Router","GeneralService","ActivatedRoute","Component","selector","template"],"mappings":"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","file":"src_app_faculty_fac-password_fac-password_module_ts-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { FacPasswordPage } from './fac-password.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FacPasswordPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class FacPasswordPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FacPasswordPageRoutingModule } from './fac-password-routing.module';\n\nimport { FacPasswordPage } from './fac-password.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    FacPasswordPageRoutingModule\n  ],\n  declarations: [FacPasswordPage]\n})\nexport class FacPasswordPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\nimport { MustMatch, GeneralService } from \"src/app/services/general.service\";\nimport { AuthService } from \"src/app/services/auth.service\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\n\n@Component({\n  selector: 'app-fac-password',\n  templateUrl: './fac-password.page.html',\n  styleUrls: ['./fac-password.page.scss'],\n})\nexport class FacPasswordPage implements OnInit {\n\n  changeForm: FormGroup;\n  submitted = false;\n  mob: any;\n  err: any;\n  token: any;\n\n  constructor(\n    private formBuilder: FormBuilder,\n    public authService: AuthService,\n    private router: Router,\n    public generalts: GeneralService,\n    public actroute: ActivatedRoute\n    ) { }\n\n  ngOnInit() {\n    this.changeForm = this.formBuilder.group(\n      {\n        oldpassword: [\"\", [Validators.required, Validators.minLength(6)]],\n        password: [\"\", [Validators.required, Validators.minLength(6)]],\n        confirmPassword: [\"\", Validators.required]\n      },\n      {\n        validator: MustMatch(\"password\", \"confirmPassword\")\n      }\n    );\n  }\n  \n  ionViewWillEnter() {\n    this.token = localStorage.getItem(\"pas_faculty\");\n    \n  }\n   // convenience getter for easy access to form fields\n   get f() {\n    return this.changeForm.controls;\n  }\n\n\n  async onSubmit() {this.submitted = true;\n\n    // stop here if form is invalid\n    if (this.changeForm.invalid) {\n      return;\n    } else {\n      //console.log(this.changeForm.value.confirmPassword, \"reg\"); \n      var pas = {\n        \"existingPassword\": this.changeForm.value.oldpassword,\n        \"newPassword\" : this.changeForm.value.password\n      };\n      \n      console.log(pas);;\n      this.generalts.loadingPresent()\n      this.authService.g_postt_fac(pas, \"teaching-staff/change-password\", this.token)\n      .subscribe(data => {\n        console.log(data)\n        let status = data.status;\n        let message = data.message;\n        this.generalts.showToast(message);\n        if(status == 'success') {\n          this.router.navigateByUrl('/dashboard');\n          this.changeForm.reset();\n        }\n        this.generalts.loadingDismiss();\n      },\n      error => {\n        this.generalts.loadingDismiss();\n        console.error(\"Error!\", error.status_code, error.message);\n        if (error.status == 401) {\n          this.authService.loginAgain();\n          //this.router.navigateByUrl('/login');\n        } else if (error.status_code == 400) {\n          this.err = error.message;\n        }\n      });\n\n    }\n\n  }\n}\n","export default \"ion-item {\\n  padding: 0 15px !important;\\n}\\n\\n.brde {\\n  text-align: center;\\n  border: 1px solid #6b1a0d;\\n  padding: 4px 13px 20px;\\n  border-radius: 48px;\\n  margin: 0 13px;\\n}\\n\\n.back {\\n  padding: 6px 0px;\\n  text-decoration: underline;\\n  position: absolute;\\n  left: 10px;\\n  top: 17px;\\n  font-size: 18px;\\n  color: #ffffff;\\n  background: rgba(0, 0, 0, 0.78);\\n  border-radius: 50px;\\n  height: 30px;\\n  width: 30px;\\n  text-align: center;\\n  box-shadow: 0px 2px 4px #585858;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZhYy1wYXNzd29yZC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDQywwQkFBQTtBQUNEOztBQUlBO0VBQ0Msa0JBQUE7RUFDQSx5QkFBQTtFQUNBLHNCQUFBO0VBQ0EsbUJBQUE7RUFDQSxjQUFBO0FBREQ7O0FBR0E7RUFDQyxnQkFBQTtFQUNBLDBCQUFBO0VBQ0Esa0JBQUE7RUFDQSxVQUFBO0VBQ0EsU0FBQTtFQUNBLGVBQUE7RUFDQSxjQUFBO0VBQ0EsK0JBQUE7RUFDQSxtQkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSwrQkFBQTtBQUFEIiwiZmlsZSI6ImZhYy1wYXNzd29yZC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24taXRlbSB7XG5cdHBhZGRpbmc6IDAgMTVweCAhaW1wb3J0YW50O1xuXHQvLyAgIC5pb24tbGFiZWwge1xuXHQvLyAgICAgbWFyZ2luOiAwIGF1dG8gIWltcG9ydGFudDtcblx0Ly8gICB9XG59XG4uYnJkZSB7XG5cdHRleHQtYWxpZ246IGNlbnRlcjtcblx0Ym9yZGVyOiAxcHggc29saWQgIzZiMWEwZDtcblx0cGFkZGluZzogNHB4IDEzcHggMjBweDtcblx0Ym9yZGVyLXJhZGl1czogNDhweDtcblx0bWFyZ2luOiAwIDEzcHg7XG59XG4uYmFjayB7XG5cdHBhZGRpbmc6IDZweCAwcHg7XG5cdHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xuXHRwb3NpdGlvbjogYWJzb2x1dGU7XG5cdGxlZnQ6IDEwcHg7XG5cdHRvcDogMTdweDtcblx0Zm9udC1zaXplOiAxOHB4O1xuXHRjb2xvcjogI2ZmZmZmZjtcblx0YmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjc4KTtcblx0Ym9yZGVyLXJhZGl1czogNTBweDtcblx0aGVpZ2h0OiAzMHB4O1xuXHR3aWR0aDogMzBweDtcblx0dGV4dC1hbGlnbjogY2VudGVyO1xuXHRib3gtc2hhZG93OiAwcHggMnB4IDRweCAjNTg1ODU4O1xufVxuICAgICAgICAiXX0= */\";","export default \"<ion-header>\\n  <ion-toolbar color=\\\"menu\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"dashboard\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Change Password</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <div class=\\\"text-center\\\" style=\\\"text-align: center;\\\">\\n    <img src=\\\"../../../assets/images/banner_2.png\\\" class=\\\"img-fluid\\\" alt=\\\"\\\" />\\n  </div>\\n\\n  <div class=\\\"brde\\\">\\n    <h3>Change Password</h3>\\n    <form style=\\\"margin-top: 10px;\\\" [formGroup]=\\\"changeForm\\\">\\n      <ion-item class=\\\"form-group\\\">\\n        <ion-label position=\\\"floating\\\">Old Password</ion-label>\\n        <ion-input\\n        type=\\\"password\\\"\\n        clearOnEdit=\\\"false\\\"\\n        formControlName=\\\"oldpassword\\\"\\n        class=\\\"form-control\\\"\\n        [ngClass]=\\\"{ 'is-invalid': submitted && f.oldpassword.errors }\\\"\\n        ></ion-input>\\n        <div\\n          *ngIf=\\\"submitted && f.oldpassword.errors\\\"\\n          class=\\\"invalid-feedback red\\\"\\n        >\\n          <div *ngIf=\\\"f.oldpassword.errors.required\\\">\\n            Old Password is required\\n          </div>\\n          <div *ngIf=\\\"f.oldpassword.errors.minlength\\\">\\n            Old Password must be at least 6 characters\\n          </div>\\n        </div>\\n      </ion-item>\\n      <ion-item class=\\\"form-group\\\">\\n        <ion-label position=\\\"floating\\\">New Password</ion-label>\\n        <ion-input\\n        type=\\\"password\\\"\\n        clearOnEdit=\\\"false\\\"\\n        formControlName=\\\"password\\\"\\n        class=\\\"form-control\\\"\\n        [ngClass]=\\\"{ 'is-invalid': submitted && f.password.errors }\\\"\\n        ></ion-input>\\n        <div\\n          *ngIf=\\\"submitted && f.password.errors\\\"\\n          class=\\\"invalid-feedback red\\\"\\n        >\\n          <div *ngIf=\\\"f.password.errors.required\\\">\\n            New Password is required\\n          </div>\\n          <div *ngIf=\\\"f.password.errors.minlength\\\">\\n            New Password must be at least 6 characters\\n          </div>\\n        </div>\\n      </ion-item>\\n\\n      <ion-item class=\\\"form-group\\\">\\n        <ion-label position=\\\"floating\\\">Confirm Password</ion-label>\\n        <ion-input\\n        clearOnEdit=\\\"false\\\"\\n        type=\\\"password\\\"\\n        formControlName=\\\"confirmPassword\\\"\\n        class=\\\"form-control\\\"\\n        [ngClass]=\\\"{ 'is-invalid': submitted && f.confirmPassword.errors }\\\"\\n          \\n        ></ion-input>\\n        <div\\n          *ngIf=\\\"submitted && f.confirmPassword.errors\\\"\\n          class=\\\"invalid-feedback red\\\"\\n        >\\n          <div *ngIf=\\\"f.confirmPassword.errors.required\\\">\\n            Confirm Password is required\\n          </div>\\n          <div *ngIf=\\\"f.confirmPassword.errors.mustMatch\\\">\\n            Password miss match\\n          </div>\\n        </div>\\n      </ion-item>\\n      <!-- <p text-center>{{err}}</p> -->\\n      <div text-center style=\\\"margin-top: 10px;\\\">\\n        <ion-button padding class=\\\"btn btn-primary\\\" (click)=\\\"onSubmit()\\\" color=\\\"tertiary\\\"\\n          >Submit</ion-button\\n        >\\n      </div>\\n    </form>\\n  </div>\\n</ion-content>\";"]}