{"version":3,"sources":["webpack:///src/assets/js/quill.imageCompressor.js","webpack:///src/app/faculty/assignmentedit/assignmentedit-routing.module.ts","webpack:///src/app/faculty/assignmentedit/assignmentedit.module.ts","webpack:///src/app/faculty/assignmentedit/assignmentedit.page.ts","webpack:///src/app/faculty/assignmentedit/assignmentedit.page.scss","webpack:///src/app/faculty/assignmentedit/assignmentedit.page.html"],"names":["warnAboutOptions","options","maxWidth","console","warn","quality","imageType","startsWith","imageCompressor","quill","range","debug","toolbar","getModule","addHandler","selectLocalImage","bind","getSelection","fileHolder","document","createElement","setAttribute","onchange","fileChanged","body","appendChild","click","window","requestAnimationFrame","removeChild","file","files","fileReader","FileReader","onloadend","evt","base64ImageSrc","target","result","log","downscaleImage","base64ImageSrcNew","insertToEditor","readAsDataURL","url","logFileSize","insertEmbed","index","setSelection","dataUrl","head","fileSizeBytes","Math","round","length","fileSizeKiloBytes","toFixed","newWidth","imageQuality","image","Image","src","Promise","resolve","onload","oldWidth","width","oldHeight","height","newHeight","floor","canvas","ctx","getContext","drawImage","newDataUrl","toDataURL","routes","path","component","AssignmenteditPage","AssignmenteditPageRoutingModule","NgModule","imports","RouterModule","exports","AssignmenteditPageModule","CommonModule","FormsModule","ReactiveFormsModule","IonicModule","QuillModule","modules","syntax","declarations","Quill","register","route","router","location","authService","general","formBuilder","actionSheetController","camera","previewAnyFile","assignID","listData","headerr","facultyDivisionId","textFormat","loadData","img","header","list","script","indent","direction","size","color","background","font","align","imageCompress","isType","fileType","fileList","count","indx","hide","selectedAll","selectStudentIds","sendAssign","s","isEdit","studentId","checkStudents","changeForm","group","type","Validators","title","desc","edits","typ","tittl","sdfa","html","event","back","removeFileId","token","localStorage","getItem","LoadList","snapshot","paramMap","get","academicYearId","JSON","parse","plugin_notice_id","getDatas","loading","load","present","page","get_fac_t","subscribe","data","dismiss","editData","notice","content","plugin_notices_type_id","patchValue","a","studentIds","err","status","statusText","loginAgain","navigateByUrl","v","alert","dd","forEach","push","value","notice_to","notice_type","academic_year_id","selectedStudents","parseInt","removedAttachementIds","documents","loadingPresent","g_postt_fac","response","loadingDismiss","error","correctOrientation","allowEdit","destinationType","DestinationType","DATA_URL","encodingType","EncodingType","JPEG","mediaType","MediaType","PICTURE","sourceType","PictureSourceType","SAVEDPHOTOALBUM","targetWidth","targetHeight","getPicture","then","imageData","base64Image","fileId","fileName","base64","filename","name","getElementById","invalid","id","splice","element","i","file_id","preview","res","open","studentList","students","chec","c","Object","keys","selectAll","detail","indexOf","et","val","trim","filter","item","student_name","toString","toLowerCase","scrollToTop","ActivatedRoute","Router","Location","AuthService","GeneralService","FormBuilder","ActionSheetController","Camera","PreviewAnyFile","ViewChild","IonContent","Component","selector","template"],"mappings":"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","file":"src_app_faculty_assignmentedit_assignmentedit_module_ts-es5.js","sourcesContent":["function warnAboutOptions(options) {\n  if (options.maxWidth && typeof options.maxWidth !== \"number\") {\n    console.warn(\n      `[config error] 'maxWidth' is required to be a \"number\" (in pixels), \n  recieved: ${options.maxWidth}\n  -> using default 1000`\n    );\n    options.maxWidth = 1000;\n  }\n  if (options.quality && typeof options.quality !== \"number\") {\n    console.warn(\n      `quill.imageCompressor: [config error] 'quality' is required to be a \"number\", \n  recieved: ${options.quality}\n  -> using default 0.7`\n    );\n    options.quality = 0.7;\n  }\n  if (\n    options.imageType &&\n    (typeof options.imageType !== \"string\" ||\n      !options.imageType.startsWith(\"image/\"))\n  ) {\n    console.warn(\n      `quill.imageCompressor: [config error] 'imageType' is required be in the form of \"image/png\" or \"image/jpeg\" etc ..., \n  recieved: ${options.imageType}\n  -> using default image/jpeg`\n    );\n    options.imageType = \"image/jpeg\";\n  }\n}\n\nclass imageCompressor {\n  constructor(quill, options) {\n    this.quill = quill;\n    this.options = options;\n    this.range = null;\n    this.debug = options.debug == null || options.debug == true;\n\n    warnAboutOptions(options);\n\n    var toolbar = this.quill.getModule(\"toolbar\");\n    toolbar.addHandler(\"image\", this.selectLocalImage.bind(this));\n  }\n\n  selectLocalImage() {\n    this.range = this.quill.getSelection();\n    this.fileHolder = document.createElement(\"input\");\n    this.fileHolder.setAttribute(\"type\", \"file\");\n    this.fileHolder.setAttribute(\"accept\", \"image/*\");\n    this.fileHolder.setAttribute(\"style\", \"visibility:hidden\");\n\n    this.fileHolder.onchange = this.fileChanged.bind(this);\n\n    document.body.appendChild(this.fileHolder);\n\n    this.fileHolder.click();\n\n    window.requestAnimationFrame(() => {\n      document.body.removeChild(this.fileHolder);\n    });\n  }\n\n  fileChanged() {\n    const file = this.fileHolder.files[0];\n    if (!file) {\n      return;\n    }\n\n    const fileReader = new FileReader();\n\n    fileReader.onloadend = async evt => {\n      const base64ImageSrc = evt.target.result;\n      console.log(evt.target.result);\n\n      const base64ImageSrcNew = await downscaleImage(\n        base64ImageSrc,\n        this.options.maxWidth,\n        this.options.imageType,\n        this.options.quality,\n        this.debug\n      );\n      this.insertToEditor(base64ImageSrcNew);\n    };\n\n    fileReader.readAsDataURL(file);\n  }\n\n  insertToEditor(url) {\n    const range = this.range;\n    // Insert the compressed image\n    this.logFileSize(url);\n    this.quill.insertEmbed(range.index, \"image\", `${url}`);\n    // Move cursor to next position\n    range.index++;\n    this.quill.setSelection(range, \"api\");\n  }\n\n  logFileSize(dataUrl) {\n    const head = \"data:image/png;base64,\";\n    const fileSizeBytes = Math.round(((dataUrl.length - head.length) * 3) / 4);\n    const fileSizeKiloBytes = (fileSizeBytes / 1024).toFixed(0);\n    if (this.debug) {\n      console.log(\n        \"quill.imageCompressor: estimated img size: \" +\n          fileSizeKiloBytes +\n          \" kb\"\n      );\n    }\n  }\n}\n\n// Take an image URL, downscale it to the given width, and return a new image URL.\nasync function downscaleImage(\n  dataUrl,\n  newWidth,\n  imageType,\n  imageQuality,\n  debug\n) {\n  \"use strict\";\n  // Provide default values\n  imageType = imageType || \"image/jpeg\";\n  imageQuality = imageQuality || 0.7;\n\n  // Create a temporary image so that we can compute the height of the downscaled image.\n  const image = new Image();\n  image.src = dataUrl;\n  await new Promise(resolve => {\n    image.onload = () => {\n      resolve();\n    };\n  });\n  const oldWidth = image.width;\n  const oldHeight = image.height;\n  const newHeight = Math.floor((oldHeight / oldWidth) * newWidth);\n\n  // Create a temporary canvas to draw the downscaled image on.\n  const canvas = document.createElement(\"canvas\");\n  canvas.width = newWidth;\n  canvas.height = newHeight;\n\n  // Draw the downscaled image on the canvas and return the new data URL.\n  const ctx = canvas.getContext(\"2d\");\n  ctx.drawImage(image, 0, 0, newWidth, newHeight);\n  const newDataUrl = canvas.toDataURL(imageType, imageQuality);\n\n  return newDataUrl;\n}\n\nexport default imageCompressor;\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AssignmenteditPage } from './assignmentedit.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AssignmenteditPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AssignmenteditPageRoutingModule {}\n","import { NgModule } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\n\nimport { IonicModule } from \"@ionic/angular\";\n\nimport { AssignmenteditPageRoutingModule } from \"./assignmentedit-routing.module\";\n\nimport { AssignmenteditPage } from \"./assignmentedit.page\";\nimport { QuillModule } from \"ngx-quill\";\n// Quill.register('modules/imageCompress', ImageCompress);\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    // QuillModule.forRoot({\n    //   modules: {\n    //     syntax: false,\n    //     toolbar: [\n    //       [\"bold\", \"italic\", \"underline\"],\n    //       [{ list: \"bullet\" }],\n    //       [{ header: [1, 2, 3, 4, 5, 6, false] }],\n    //       [{ font: [] }],\n    //       [{ align: [] }],\n    //     ],\n    //   },\n    // }),\n    QuillModule.forRoot({\n      modules: {\n        syntax: false,\n        // imageCompress: {\n        //   quality: 0.5, // default\n        //   maxWidth: 1000, // default\n        //   maxHeight: 1000, // default\n        //   imageType: \"image/jpeg\", // default\n        //   debug: true, // default\n        // },\n      },\n    }),\n    AssignmenteditPageRoutingModule,\n  ],\n  declarations: [AssignmenteditPage],\n})\nexport class AssignmenteditPageModule {}\n","import { Location } from \"@angular/common\";\nimport { Component, ElementRef, OnInit, ViewChild } from \"@angular/core\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\nimport { AuthService } from \"src/app/services/auth.service\";\nimport { GeneralService } from \"src/app/services/general.service\";\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\n// import * as Quill from \"quill\";\nimport imageCompressor from \"../../../assets/js/quill.imageCompressor.js\";\n\n// Quill.register(\"modules/imageCompress\", imageCompressor);\n\nimport * as quill from 'quill';\nimport { ActionSheetController, IonContent } from \"@ionic/angular\";\n// import { FileChooser } from \"@ionic-native/file-chooser/ngx\";\n// import { FilePath } from \"@ionic-native/file-path/ngx\";\n// import { Base64 } from \"@ionic-native/base64/ngx\";\n// import { DocumentViewer, DocumentViewerOptions } from \"@ionic-native/document-viewer/ngx\";\nimport { PreviewAnyFile } from \"@ionic-native/preview-any-file/ngx\";\n\nconst Quill = quill as any;\n// Use quill as normal...\nQuill.register(\"modules/imageCompress\", imageCompressor);\n\n@Component({\n  selector: \"app-assignmentedit\",\n  templateUrl: \"./assignmentedit.page.html\",\n  styleUrls: [\"./assignmentedit.page.scss\"],\n})\nexport class AssignmenteditPage implements OnInit {\n  @ViewChild(IonContent, {static: false}) content: IonContent;\n  assignID: any = \"\";\n  token: any;\n  academicYearId: any;\n  listData: any = [];\n  typ;\n  desc;\n  tittl;\n  headerr: any = null;\n  editData: any;\n  facultyDivisionId: any = \"\";\n  textFormat: any = \"\";\n  loadData: boolean = false;\n  img = '';\n  modules = {\n    toolbar: [\n      [\"bold\", \"italic\", \"underline\", \"strike\"], // toggled buttons\n      [\"blockquote\"],\n      \n      [{ header: 1 }, { header: 2 }], // custom button values\n      [{ list: \"ordered\" }, { list: \"bullet\" }],\n      [{ script: \"sub\" }, { script: \"super\" }], // superscript/subscript\n      [{ indent: \"-1\" }, { indent: \"+1\" }], // outdent/indent\n      [{ direction: \"rtl\" }], // text direction\n      [{ size: [\"small\", false, \"large\", \"huge\"] }], // custom dropdown\n      [{ header: [1, 2, 3, 4, 5, 6, false] }],\n\n      [{ color: [] }, { background: [] }], // dropdown with defaults from theme\n      [{ font: [] }],\n      [{ align: [] }],\n      [\"video\"],\n      [\"clean\"], // remove formatting button\n      [\"link\", \"image\", \"code-block\"] // link and image and code\n    ],\n\n    imageCompress: {\n      quality: 0.5, // default\n      maxWidth: 1000, // default\n   imageType: \"image/jpeg\" // default\n    },\n  };\n  document = [];\n  isType = false;\n  fileType: any = 'file';\n  fileList: any = [];\n  count = 0;\n  changeForm: FormGroup;\n  files: any; \n  indx = 1;\n  removeFileId: any;\n  hide = false;\n  studentList: any;\n  chec:boolean;\n  selectedAll= false;\n  selectStudentIds = [];\n  sendAssign: boolean = false;\n  searchTerm:any;\n  students: any;\n  s: any = [];\n  isEdit: boolean = false;\n  edits: boolean;\n  studentId = [];\n\n  checkStudents = [];\n  @ViewChild('fileInput') fileInputClick: ElementRef;\n\n  \n\n  constructor(\n    public route: ActivatedRoute,\n    private router: Router,\n    public location: Location,\n    public authService: AuthService,\n    public general: GeneralService,\n    private formBuilder: FormBuilder,\n    public actionSheetController: ActionSheetController,\n    public camera: Camera,\n\n    // public fileChooser: FileChooser,\n    // public filePath: FilePath,\n    // public base64: Base64,\n    // private documents: DocumentViewer,\n    private previewAnyFile: PreviewAnyFile\n  ) {}\n\n  ngOnInit() {\n    this.changeForm = this.formBuilder.group(\n      {\n        type: [\"\", Validators.required],\n        title: [\"\", Validators.required],\n        desc: [\"\", Validators.required],\n        fileType: [\"\"],\n       }\n     \n    );\n    this.document = [];\n    this.isEdit = false;\n    this.edits = this.isEdit;\n  }\n\n  save() {\n    console.log(this.textFormat, \"fas\");\n  }\n\n  submit() {\n    console.log(this.typ, this.desc, this.tittl);\n  }\n\n  onEditorContentChange(sdfa) {\n    console.log(sdfa, \"sdfa.html\",this.desc);\n    \n      this.desc = sdfa.html;\n  }\n\n  changedEditor(event) {\n    console.log(event);\n  }\n  // update() {\n  //   console.log(\n  //     this.typ,\n  //     this.desc,\n  //     this.tittl,\n  //     \"123//\",\n  //     this.route.snapshot.paramMap.get(\"data\"),\n  //     \"update data\"\n  //   );\n\n  //   let dd = JSON.parse(this.route.snapshot.paramMap.get(\"data\"));\n\n  //   let notice = {\n  //     notice: {\n  //       type: \"DOCS\",\n  //       title: this.tittl,\n  //       content: this.desc,\n  //       plugin_notices_type_id: this.typ,\n  //     },\n  //     // \"documents[0]\": [],\n  //     academicYearId: this.academicYearId,\n  //     facultyDivisionId: parseInt(this.facultyDivisionId),\n  //   };\n  //   this.general.loadingPresent();\n  //   this.authService\n  //     .g_postt_fac(notice, \"teaching-staff/notices/update-notice\", this.token)\n  //     .subscribe(\n  //       (data) => {\n  //         let response = data;\n  //         console.log(response, \"me Data\");\n  //         this.general.loadingDismiss()\n  //       },\n  //       (error) => {\n  //         alert(error);\n  //         console.log(error);\n  //         this.general.loadingDismiss()\n  //       }\n  //     );\n  // }\n  \n  back() {\n    this.location.back();\n  }\n\n  ionViewWillEnter() {\n    this.document = [];\n    this.removeFileId = '';\n    this.token = localStorage.getItem(\"pas_faculty\");\n    this.LoadList();\n    this.headerr = this.route.snapshot.paramMap.get(\"topic\");\n    this.facultyDivisionId =\n      this.route.snapshot.paramMap.get(\"facultyDivisionId\");\n    this.academicYearId = this.route.snapshot.paramMap.get(\"academicYearId\");\n    console.log(\n      this.facultyDivisionId,\n      \"academicYearId111\",\n      this.academicYearId\n    );\n    if (\n      // [undefined, null, \"\"].indexOf(this.route.snapshot.paramMap.get(\"data\")) >\n      //   -1 &&\n      this.headerr == \"Edit Notices\"\n    ) {\n      console.log(\n        \"getDatas45\",\n        JSON.parse(this.route.snapshot.paramMap.get(\"data\"))\n      );\n\n      this.assignID = JSON.parse(\n        this.route.snapshot.paramMap.get(\"data\")\n      ).plugin_notice_id;\n      this.getDatas();\n    }\n  }\n\n  async getDatas() {\n    this.isEdit = true;\n    this.edits = this.isEdit;\n    const load = await this.general.loading(\"Loading ...\");\n    load.present();\n    let page = \"teaching-staff/notices/edit-notice?notice_id=\" + this.assignID;\n    this.authService.get_fac_t(page, this.token).subscribe(\n      (data) => {\n        load.dismiss();\n        console.log(data, \"getDatas\");\n        let editData = data.notice;\n        this.files = data.files.length != 0 ? data.files : '';\n        this.tittl = editData.title;\n        this.desc = editData.content;\n        // this.listData = data;\n        this.typ = editData.plugin_notices_type_id;\n        this.changeForm.patchValue({\n          title: editData.title,\n          type: editData.plugin_notices_type_id,\n          desc: editData.content\n        });\n        let a = data.studentIds;\n        // a.forEach(v => {\n        //   this.studentId.push()\n        // })\n        this.studentId = a;\n        this.selectStudentIds = this.studentId;\n        console.log(this.studentId)\n      },\n      (err: any) => {\n        if (err.status == 401 || err.status == 422 || err.status == 0) {\n          if (err.statusText == \"Unauthorized\") {\n            this.general.loginAgain();\n            this.router.navigateByUrl(\"/opem\");\n          }\n        }\n        load.dismiss();\n      }\n    );\n  }\n\n  async LoadList() {\n    const load = await this.general.loading(\"Loading ...\");\n    load.present();\n    let page = \"teaching-staff/notices/get-notices-types\";\n    this.authService.get_fac_t(page, this.token).subscribe(\n      (data) => {\n        load.dismiss();\n        this.loadData = true;\n        console.log(data, \"sd\");\n        this.listData = data;\n        if(this.listData.length != 0) {\n          let v = this.listData[0];\n          console.log(v['id']);\n          this.changeForm.patchValue({ \n            type: v['id']\n          });\n        }\n        console.log(this.changeForm)\n      },\n      (err: any) => {\n        console.log(err.status, \"err\");\n        if (err.status == 401 || err.status == 422 || err.status == 0) {\n          if (err.statusText == \"Unauthorized\") {\n            this.general.loginAgain();\n            this.router.navigateByUrl(\"/opem\");\n          }\n        } else {\n          alert(\"server issue\");\n        }\n        load.dismiss();\n      }\n    );\n  }\n\n  edit() {\n    console.log(\n      this.typ,\n      this.desc,\n      this.tittl,\n      \"123//\",\n      this.route.snapshot.paramMap.get(\"data\"),\n      \"update data\"\n    );\n\n    let dd = JSON.parse(this.route.snapshot.paramMap.get(\"data\"));\n    console.log(\"dd.academic_year_id,\", this.academicYearId);\n\n    this.selectStudentIds.forEach(v => {\n      console.log({'id':v}, 'ad')\n      this.s.push({'id': v});\n    })\n    let notice = {\n      notice: {\n        type: \"DOCS\",\n\n        title: this.changeForm.value.title,\n\n        content: this.changeForm.value.desc,\n\n        plugin_notices_type_id: this.changeForm.value.type,\n        plugin_notice_id: this.assignID,\n\n        notice_to: \"STUDENTS\",\n\n        notice_type: \"PERMANENT\",\n\n        academic_year_id: this.academicYearId,\n\n        selectedStudents : this.s\n      },\n\n      academicYearId: parseInt(this.academicYearId),\n\n      facultyDivisionId: parseInt(this.facultyDivisionId),\n      removedAttachementIds: this.removeFileId,\n\n      documents: this.document\n      \n    };\n    console.log(notice);\n    this.general.loadingPresent();\n    this.authService\n      .g_postt_fac(notice, \"teaching-staff/notices/update-notice\", this.token)\n      .subscribe(\n        (data) => {\n          let response = data;\n          console.log(response, \"me Data\");\n          this.location.back();\n          this.general.loadingDismiss();\n        },\n        (error) => {\n          console.log(error);\n          this.general.loadingDismiss();\n          if (error.status == 401 || error.status == 422 || error.status == 0) {\n            if (error.statusText == \"Unauthorized\") {\n              this.general.loginAgain();\n              this.router.navigateByUrl(\"/opem\");\n            }\n          }\n        }\n      );\n  }\n\n  async uploadFile() {\n    \n    const options: CameraOptions = {\n      quality: 50,\n      correctOrientation: true,\n      allowEdit: true,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.JPEG,\n      mediaType: this.camera.MediaType.PICTURE,\n      sourceType: this.camera.PictureSourceType.SAVEDPHOTOALBUM,\n      targetWidth: 2732,\n      targetHeight: 2732,\n      \n    };\n\n    this.camera.getPicture(options).then(imageData => {\n      // imageData is either a base64 encoded string or a file URI\n      // If it's base64:\n      let base64Image = \"data:image/jpeg;base64,\" + imageData;\n      console.log(base64Image);\n      this.document.push(base64Image);\n      if(this.fileList.length == '0') {\n        this.count = 1;\n      }else {\n        ++this.count;\n      }\n      let file = {\n        fileId : this.count,\n        fileType: this.fileType,\n        fileName: '',\n        base64: base64Image\n      };\n      this.fileList.push(file)\n    }\n    ).catch((error: any) => console.error(error));\n\n    console.log(this.fileList,this.count, 'ashok')\n  }\n\n  onFileChange(event) {\n    console.log(event.target.files.length)\n    var filename = event.target.files[0].name\n    console.log(\"File Name\")\n    console.log(filename)\n    var fileReader = new FileReader();\n    fileReader.readAsDataURL(event.target.files[0])\n    fileReader.onload = () => {\n      console.log(fileReader.result, 'FG')\n      this.document.push(fileReader.result)\n      if(this.fileList.length == '0') {\n        this.count = 1;\n      }else {\n        ++this.count;\n      }\n      let file = {\n        fileId : this.count,\n        fileType: this.fileType,\n        fileName: filename,\n        base64: fileReader.result\n      };\n      this.fileList.push(file)\n      \n     // here this method will return base64 string enjoy \n  }\n  \n  console.log(this.fileList, 'ashok')\n}\n\ngetFile() {\n  console.log('dsfd')\n  document.getElementById('fileInput').click();\n}\n\nchangeValue(fileType) {\n  console.log(fileType)\n  if(fileType == 'image')\n    this.isType = true;\n  if(fileType == 'file')\n    this.isType = false;\n}\n  \n\n  create() {\n    if (this.changeForm.invalid) {\n      console.log('invalid')\n    } else {\n    console.log(this.changeForm.value , \"this.typ,\");\n    let dd = JSON.parse(this.route.snapshot.paramMap.get(\"data\"));\n    console.log(\"dd.academic_year_id,\", this.academicYearId);\n\n    console.log(this.document)\n    \n    this.selectStudentIds.forEach(v => {\n      console.log({'id':v}, 'ad')\n      this.s.push({'id': v});\n    })\n    let notice = {\n      notice: {\n        type: \"DOCS\",\n\n        title: this.changeForm.value.title,\n\n        content: this.changeForm.value.desc,\n\n        plugin_notices_type_id: this.changeForm.value.type,\n        selectedStudents : this.s\n      },\n\n      academicYearId: parseInt(this.academicYearId),\n\n      facultyDivisionId: parseInt(this.facultyDivisionId),\n\n      documents: this.document,\n      \n\n      // documents: [\n      //   // \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANkAAADZCAYAAACtvpV\",\n      //   // \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANkAAADZCAYAAACtvpV\",\n      // ],\n    };\n    console.log(notice);\n    //dev.pacifyca.com/pacifyca-v2/school-demo/api/teaching-staff/notices/save-notice\n    //dev.pacifyca.com/pacifyca-v2/school-demo/api/teaching-staff/notices/save-notice\n    this.general.loadingPresent();\n    this.authService\n      .g_postt_fac(notice, \"teaching-staff/notices/save-notice\", this.token)\n      .subscribe(\n        (data) => {\n          let response = data;\n          // this.router.navigate([\"/assign-faculty\"]);\n          this.location.back();\n          console.log(response, \"me Data\");\n          this.general.loadingDismiss();\n        },\n        (error) => {\n          console.log(error);\n          this.general.loadingDismiss();\n          if (error.status == 401 || error.status == 422 || error.status == 0) {\n            if (error.statusText == \"Unauthorized\") {\n              this.general.loginAgain();\n              this.router.navigateByUrl(\"/opem\");\n            }\n          }\n        }\n      );\n    }\n    \n   \n  }\n  \n  removeFile(id) {\n    console.log(id)\n    this.fileList.splice(id, 1);\n    console.log(this.fileList)\n    this.document = [];\n    this.fileList.forEach(element => {\n      this.document.push(element.base64)\n    });\n  }\n\n  removeUFile(i, file_id) {\n    console.log(file_id)\n    this.files.splice(i, 1);\n    this.removeFileId = (this.removeFileId) ? this.removeFileId + ',' + file_id : file_id;\n  }\n\n  viewDocument(file) {\n    // \n    this.previewAnyFile.preview(file.name)\n      .then((res: any) => console.log(res))\n      .catch((error: any) => console.error(error))\n  }\n  viewDocument1(a) {\n    window.open(a.base64);\n  }\n  \n  continue() {\n    this.hide = true;\n    let a = [];\n    let page = \"teaching-staff/notices/students?faculty_division_allocation_id=\"+this.facultyDivisionId;\n\n    this.general.loadingPresent();\n    this.authService.get_fac_t(page, this.token).subscribe(\n      (data) => {\n        console.log(data)\n        let v = [];\n        this.studentList = data;\n        this.students = this.studentList;\n        this.students.forEach(s => {\n          v[s.id] = false;\n        })\n        //console.log(v);\n        this.checkStudents = v;\n        if(this.isEdit) {\n          console.log(this.studentId)\n          let i = 0;\n          this.studentId.forEach(s => {\n            this.checkStudents[s] = true;\n            i++;\n          })\n          if(i === this.students.length) \n            this.chec = true;\n          else\n            this.chec = false;\n          console.log(i,this.students.length, this.checkStudents, 'edit');\n          //this.studentId = a;\n        }\n        this.general.loadingDismiss();\n      },(error) => {\n        console.log(error);\n        this.general.loadingDismiss();\n        if (error.status == 401 || error.status == 422 || error.status == 0) {\n          if (error.statusText == \"Unauthorized\") {\n            this.general.loginAgain();\n            this.router.navigateByUrl(\"/opem\");\n          }\n        }\n      });\n\n    \n  }\n\n  selectAll(c) {\n    console.log(c);\n    let a = [];\n    if (c == true) {\n      this.selectedAll = true;\n      \n      \n      // if(this.edits) {\n      //   this.isEdit = false;\n      //   this.sendAssign = true;\n      // }\n      // console.log(this.items);\n    } else {\n      this.selectedAll = false;\n      // if(this.edits) {\n      //   this.isEdit = true;\n      //   this.sendAssign = false;\n      // }\n      \n      // this.postAssignmnet.selectStudentIds = [];\n    }\n    Object.keys(this.checkStudents).forEach(s => {\n      a[s] = c;\n    });\n    this.checkStudents = a;\n\n    console.log(this.checkStudents,'ashok')\n  }\n\n  getStudent(id, event) {\n    console.log(this.selectAll, 'df')\n    console.log(event.detail, 'sd')\n    // if(event.detail['checked'] == true) {\n      if (this.selectStudentIds.indexOf(id) == -1) {\n        this.selectStudentIds.push(id);\n      }\n    // }\n    \n    if(event.detail['checked'] == false) {\n      const index: number = this.selectStudentIds.indexOf(id);\n      if (index !== -1) {\n        this.selectStudentIds.splice(index, 1);\n      }\n    }\n    \n    if (this.selectStudentIds.length > 0) {\n      this.sendAssign = true;\n    } else {\n      this.sendAssign = false;\n    }\n    console.log(this.selectStudentIds);\n  } \n  \n\n  getItems(et){\n    //this.IntiliazeItmes;\n    \n    const val = et.target.value;\n    console.log(val)\n    if(val && val.trim() != ''){\n    \n      this.studentList =  this.students.filter((item) => { \n        return (item.student_name.toString().toLowerCase().indexOf(val.toLowerCase()) > -1);\n      });\n    } \n    else {\n      console.log(this.students)\n      this.content.scrollToTop(400)\n      this.studentList = this.students;\n      //this.pushEnable = false;\n      // this.getStudentList = this.getStudentList;\n      //this.load_studentList()\n     // this.IntiliazeItmes();\n    }\n  }\n}\n","export default \".file {\\n  background: #690d01fc;\\n  color: #690d01fc;\\n  width: 90%;\\n  padding: 10px;\\n  border-radius: 10px;\\n}\\n\\ninput[type=file] {\\n  display: none;\\n}\\n\\n#yourBtn {\\n  position: relative;\\n  width: 75%;\\n  padding: 8px;\\n  -webkit-border-radius: 5px;\\n  -moz-border-radius: 5px;\\n  text-align: center;\\n  background-color: #690d01fc;\\n  color: #FFFF;\\n  cursor: pointer;\\n  text-transform: uppercase;\\n}\\n\\n.footer-btn {\\n  position: fixed;\\n  left: 0;\\n  bottom: 0;\\n  width: 100%;\\n  background-color: white;\\n  color: white;\\n  text-align: center;\\n  z-index: 5;\\n  padding: 15px;\\n}\\n\\n.label {\\n  color: #ae5c50;\\n  font-weight: 700;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2lnbm1lbnRlZGl0LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNVLHFCQUFBO0VBQ04sZ0JBQUE7RUFDQSxVQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0FBQ0o7O0FBRUE7RUFDSSxhQUFBO0FBQ0o7O0FBRUE7RUFDSSxrQkFBQTtFQUNBLFVBQUE7RUFDQSxZQUFBO0VBQ0EsMEJBQUE7RUFDQSx1QkFBQTtFQUVBLGtCQUFBO0VBQ0EsMkJBQUE7RUFDQSxZQUFBO0VBQ0EsZUFBQTtFQUNBLHlCQUFBO0FBQUo7O0FBRUE7RUFDSSxlQUFBO0VBQ0EsT0FBQTtFQUNBLFNBQUE7RUFDQSxXQUFBO0VBQ0EsdUJBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxVQUFBO0VBQ0EsYUFBQTtBQUNKOztBQUNBO0VBQ0ksY0FBQTtFQUNBLGdCQUFBO0FBRUoiLCJmaWxlIjoiYXNzaWdubWVudGVkaXQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmZpbGUge1xuICAgICAgICAgIGJhY2tncm91bmQ6ICM2OTBkMDFmYztcbiAgICBjb2xvcjogIzY5MGQwMWZjO1xuICAgIHdpZHRoOiA5MCU7XG4gICAgcGFkZGluZzogMTBweDtcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xufVxuXG5pbnB1dFt0eXBlPVwiZmlsZVwiXSB7XG4gICAgZGlzcGxheTogbm9uZTtcbn1cblxuI3lvdXJCdG4ge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB3aWR0aDogNzUlO1xuICAgIHBhZGRpbmc6IDhweDtcbiAgICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDVweDtcbiAgICAtbW96LWJvcmRlci1yYWRpdXM6IDVweDtcbiAgICAvLyBib3JkZXI6IDFweCBkYXNoZWQgIzY5MGQwMWZjO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjkwZDAxZmM7XG4gICAgY29sb3I6ICNGRkZGO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICB9XG4uZm9vdGVyLWJ0biB7XG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIGxlZnQ6IDA7XG4gICAgYm90dG9tOiAwO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgei1pbmRleDogNTtcbiAgICBwYWRkaW5nOiAxNXB4O1xufVxuLmxhYmVsIHtcbiAgICBjb2xvcjogICNhZTVjNTA7XG4gICAgZm9udC13ZWlnaHQ6IDcwMDtcbn0iXX0= */\";","export default \"<ion-header>\\n    <ion-toolbar color=\\\"menu\\\">\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-button (click)=\\\"back()\\\">\\n                <ion-icon name=\\\"arrow-back\\\"></ion-icon>\\n            </ion-button>\\n        </ion-buttons>\\n        <ion-title *ngIf=\\\"headerr == 'Edit Notices'\\\"> Edit Assignment / Notice </ion-title>\\n        <ion-title *ngIf=\\\"headerr == 'Add Notices'\\\"> Add Assignment / Notice </ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n    <form  [formGroup]=\\\"changeForm\\\">\\n        <span *ngIf=\\\"!hide\\\">\\n            <ion-item *ngIf=\\\"listData.length>0\\\">\\n                <ion-label style=\\\"width: 50%;\\\" class=\\\"label\\\">Type</ion-label>\\n                <ion-select slot=\\\"end\\\" placeholder=\\\"Select Type\\\"  formControlName=\\\"type\\\">\\n                    <ion-select-option *ngFor=\\\"let data of listData\\\" [value]=\\\"data.id\\\">{{data.notices_type}}</ion-select-option>\\n                </ion-select>\\n            </ion-item>\\n            <ion-item>\\n                <ion-label class=\\\"label\\\">Title</ion-label>\\n                <ion-input formControlName=\\\"title\\\"></ion-input>\\n            </ion-item>\\n            <!-- <ion-item>\\n                <ion-label position=\\\"floating\\\">Description</ion-label>\\n                <ion-textarea [(ngModel)]=\\\"desc\\\"></ion-textarea>\\n            </ion-item> -->\\n            <br/>\\n            <ion-label style=\\\"padding-left: 15px\\\" class=\\\"label\\\" >Description</ion-label>\\n            <br/><br/>\\n            <div *ngIf=\\\"loadData\\\">\\n                <quill-editor    \\n                [modules]=\\\"modules\\\"\\n                formControlName=\\\"desc\\\"\\n                (ContentChanged)=\\\"onEditorContentChange($event)\\\"\\n                placeholder=\\\"Insert Description here...\\\"\\n                ></quill-editor>\\n            </div>\\n            <br/>\\n            <ion-label style=\\\"padding-left: 15px\\\" class=\\\"label\\\" >Upload Files</ion-label>\\n            <ion-grid>\\n                <ion-row>\\n                    <ion-col size=\\\"8\\\">\\n                        <!-- <ion-button *ngIf=\\\"isType\\\" (click)=\\\"uploadFile()\\\"> Choose Image</ion-button> -->\\n                        <div  *ngIf=\\\"isType\\\">\\n                            <div id=\\\"yourBtn\\\" (click)=\\\"getFile()\\\">Choose Image</div>\\n                            <!-- this is your file input tag, so i hide it!-->\\n                            <!-- i used the onchange event to fire the form submission-->\\n                            <div style='height: 0px;width: 0px; overflow:hidden;'> \\n                                <input  accept=\\\"image/*\\\" class=\\\"file\\\"  id='fileInput' type=\\\"file\\\" (change)=\\\"onFileChange($event)\\\" class=\\\"custom-file-upload\\\" />\\n                            </div>\\n                        </div>\\n                        <div  *ngIf=\\\"!isType\\\">\\n                            <div id=\\\"yourBtn\\\" (click)=\\\"getFile()\\\">Choose File</div>\\n                            <!-- this is your file input tag, so i hide it!-->\\n                            <!-- i used the onchange event to fire the form submission-->\\n                            <div style='height: 0px;width: 0px; overflow:hidden;'> \\n                                <input  accept=\\\"application/pdf\\\" class=\\\"file\\\"  id='fileInput' type=\\\"file\\\" (change)=\\\"onFileChange($event)\\\" class=\\\"custom-file-upload\\\" />\\n                            </div>\\n                        </div>\\n                       \\n                       \\n                         \\n                    </ion-col>\\n                    <ion-col size=\\\"4\\\">\\n                        <ion-select  formControlName=\\\"fileType\\\" [(ngModel)]=\\\"fileType\\\" (ionChange)=\\\"changeValue(fileType)\\\"  placeholder=\\\"Select Type\\\"  >\\n                            <ion-select-option value=\\\"file\\\">File</ion-select-option>\\n                            <ion-select-option value=\\\"image\\\">Image</ion-select-option>\\n                            \\n                        </ion-select>\\n                    </ion-col>\\n                </ion-row>\\n            </ion-grid>\\n            <ion-grid>\\n                <ion-row *ngFor=\\\"let a of fileList; let i=index\\\">\\n                    <ion-col size=\\\"9\\\" *ngIf=\\\"a.fileType == 'file'\\\"> <span>{{ a.fileName }}</span> </ion-col>\\n                    <ion-col size=\\\"9\\\" *ngIf=\\\"a.fileType == 'image'\\\"> \\n                        <img [src]=\\\"a.base64\\\" alt=\\\"\\\">\\n                    </ion-col>\\n                    <ion-col size=\\\"3\\\"><span style=\\\"color: #690d01fc;\\\" (click)=\\\"removeFile(i)\\\">Remove</span></ion-col>\\n                </ion-row>\\n            </ion-grid>\\n            <ion-grid *ngIf=\\\"files\\\">\\n                <ion-row>\\n                    <ion-col class=\\\"ion-text-center\\\"><h3>Uploaded Files</h3></ion-col>\\n                </ion-row>\\n                <ion-row *ngFor=\\\"let file of files; let i=index\\\">\\n                    <ion-col size=\\\"9\\\" *ngIf=\\\"file.upload_type == 'FILE'\\\">\\n                        <span style=\\\"color: #06c;\\\" (click)=\\\"viewDocument(file)\\\">View Document -  {{i+1}}</span>\\n                    </ion-col>\\n                    <ion-col size=\\\"9\\\" *ngIf=\\\"file.upload_type == 'IMAGE'\\\"> <img [src]=\\\"file.name\\\" alt=\\\"\\\"></ion-col>\\n                    <ion-col size=\\\"3\\\"><span style=\\\"color: #690d01fc;\\\" (click)=\\\"removeUFile(i, file.file_id)\\\">Remove</span></ion-col>\\n                </ion-row>\\n            </ion-grid>\\n           \\n          \\n            <div style=\\\"text-align: center; padding-top: 15px\\\">\\n                <!-- <ion-button (click)=\\\"edit()\\\" [disabled]=\\\"!changeForm.valid\\\" *ngIf=\\\"headerr == 'Edit Notices'\\\">\\n                    Update</ion-button>\\n                <ion-button (click)=\\\"create()\\\" [disabled]=\\\"!changeForm.valid\\\" *ngIf=\\\"headerr != 'Edit Notices'\\\">\\n                    Submit</ion-button> -->\\n    \\n                <ion-button [disabled]=\\\"!changeForm.valid\\\" (click)=\\\"continue()\\\">Continue</ion-button>\\n            </div>\\n        </span>\\n         </form>\\n        <span *ngIf=\\\"hide\\\">\\n            <ion-grid>\\n                <ion-row>\\n                    <ion-col>\\n                      <ion-toolbar class=\\\"search\\\">\\n                        <ion-searchbar class=\\\"search-col\\\"  color=\\\"primary\\\"\\n                          debounce=\\\"500\\\" [(ngModel)]=\\\"searchTerm\\\" (ionInput)=\\\"getItems($event)\\\"  ></ion-searchbar>\\n                      </ion-toolbar>\\n                    </ion-col>\\n                </ion-row>\\n                <ion-row>\\n                    <ion-col>\\n                        <ion-grid class=\\\"animated lightSpeedIn item-wrap\\\">\\n                            <ion-row>\\n                                <ion-col size=\\\"1\\\"><ion-checkbox [(ngModel)]=\\\"chec\\\" (ionChange)=\\\"selectAll(chec)\\\" ></ion-checkbox></ion-col>\\n                                <ion-col size=\\\"3\\\">Roll No.</ion-col>\\n                                <ion-col size=\\\"8\\\">Name</ion-col>\\n                            </ion-row>\\n                        </ion-grid>\\n\\n                        <ion-grid class=\\\"animated lightSpeedIn item-wrap\\\">\\n                            <ion-row class=\\\"border\\\" *ngFor=\\\"let student of studentList\\\">\\n                                <ion-col size=\\\"1\\\">\\n                                    <ion-checkbox  [checked]=\\\" checkStudents[student.id]\\\" [value]=\\\"student.id\\\"  (ionChange)=\\\"getStudent(student.id, $event)\\\"></ion-checkbox>\\n                                </ion-col>\\n                                <ion-col size=\\\"3\\\"> <ion-label class=\\\"label_ion\\\" >{{student.roll_no}}</ion-label></ion-col>\\n                                <ion-col size=\\\"8\\\"> <ion-label class=\\\"label_ion\\\" >{{student.student_name}}</ion-label></ion-col>\\n                            </ion-row>\\n                        </ion-grid>\\n                    </ion-col>\\n                </ion-row>\\n            </ion-grid>\\n            <br/><br/><br/>\\n            <div class=\\\"footer-btn\\\">\\n                <ion-button (click)=\\\"edit()\\\" [disabled]=\\\"!sendAssign\\\" *ngIf=\\\"headerr == 'Edit Notices'\\\">\\n                    Update</ion-button>\\n                <ion-button (click)=\\\"create()\\\" [disabled]=\\\"!sendAssign\\\" *ngIf=\\\"headerr != 'Edit Notices'\\\">\\n                    Submit</ion-button>\\n    \\n                \\n            </div>\\n        </span>\\n        \\n   \\n    \\n</ion-content>\";"]}