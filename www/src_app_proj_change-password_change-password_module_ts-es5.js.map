{"version":3,"sources":["webpack:///src/app/proj/change-password/change-password-routing.module.ts","webpack:///src/app/proj/change-password/change-password.module.ts","webpack:///src/app/proj/change-password/change-password.page.ts","webpack:///src/app/proj/change-password/change-password.page.scss","webpack:///src/app/proj/change-password/change-password.page.html"],"names":["routes","path","component","ChangePasswordPage","ChangePasswordPageRoutingModule","NgModule","imports","RouterModule","exports","ChangePasswordPageModule","CommonModule","FormsModule","ReactiveFormsModule","IonicModule","declarations","formBuilder","authService","router","generalts","actroute","submitted","changeForm","group","oldpassword","Validators","password","confirmPassword","validator","MustMatch","token","localStorage","getItem","controls","invalid","pas","value","console","log","loadingPresent","g_postt","subscribe","sa","message","status","showToast","navigateByUrl","reset","loadingDismiss","setItem","mob","error","status_code","loginAgain","err","FormBuilder","AuthService","Router","GeneralService","ActivatedRoute","Component","selector","template"],"mappings":"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","file":"src_app_proj_change-password_change-password_module_ts-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ChangePasswordPage } from './change-password.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ChangePasswordPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ChangePasswordPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ChangePasswordPageRoutingModule } from './change-password-routing.module';\n\nimport { ChangePasswordPage } from './change-password.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    ChangePasswordPageRoutingModule\n  ],\n  declarations: [ChangePasswordPage]\n})\nexport class ChangePasswordPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\nimport { MustMatch, GeneralService } from \"src/app/services/general.service\";\nimport { AuthService } from \"src/app/services/auth.service\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\n\n@Component({\n  selector: 'app-change-password',\n  templateUrl: './change-password.page.html',\n  styleUrls: ['./change-password.page.scss'],\n})\nexport class ChangePasswordPage implements OnInit {\n\n  changeForm: FormGroup;\n  submitted = false;\n  mob: any;\n  err: any;\n  token: any;\n\n  constructor(\n    private formBuilder: FormBuilder,\n    public authService: AuthService,\n    private router: Router,\n    public generalts: GeneralService,\n    public actroute: ActivatedRoute\n  ) { }\n\n  ngOnInit() {\n    this.changeForm = this.formBuilder.group(\n      {\n        oldpassword: [\"\", [Validators.required, Validators.minLength(6)]],\n        password: [\"\", [Validators.required, Validators.minLength(6)]],\n        confirmPassword: [\"\", Validators.required]\n      },\n      {\n        validator: MustMatch(\"password\", \"confirmPassword\")\n      }\n    );\n  }\n\n  ionViewWillEnter() {\n    this.token = localStorage.getItem(\"pas_faculty\");\n    \n  }\n   // convenience getter for easy access to form fields\n   get f() {\n    return this.changeForm.controls;\n  }\n\n\n  async onSubmit() {\n    this.submitted = true;\n\n    // stop here if form is invalid\n    if (this.changeForm.invalid) {\n      return;\n    } else {\n      //console.log(this.changeForm.value.confirmPassword, \"reg\"); \n      var pas = {\n        \"existingPassword\": this.changeForm.value.oldpassword,\n        \"newPassword\" : this.changeForm.value.password,\n        \"changePassword\" : true,\n        \"password\" : \"\",\n        \"password_confirm\" : \"\"\n      };\n      \n      console.log(pas);;\n      this.generalts.loadingPresent()\n      var token = localStorage.getItem(\"pas_tok\");\n      \n      this.authService.g_postt(pas, \"change-password\", token).subscribe(\n        sa => {\n          console.log(sa, \"da\");\n          if (sa.message) {\n            let status = sa.status;\n            let message = sa  .message;\n            this.generalts.showToast(message);\n            if(status == 'success') {\n              this.router.navigateByUrl('/home');\n              this.changeForm.reset();\n            }\n            this.generalts.loadingDismiss();\n            localStorage.setItem(\"*/\", this.mob);\n            //localStorage.setItem(\"asd\", this.mob);\n          }\n          // else if (sa.status != true) {\n          //   this.err = sa.status;\n          // }\n        },\n        error => {\n          this.generalts.loadingDismiss();\n          console.error(\"Error!\", error.status_code, error.message);\n          if (error.status == 401) {\n            this.authService.loginAgain();\n            //this.router.navigateByUrl('/login');\n          } else if (error.status_code == 400) {\n            this.err = error.message;\n          }\n        }\n      );\n\n    }\n\n  }\n\n}\n","export default \"ion-item {\\n  padding: 0 15px !important;\\n}\\n\\n.brde {\\n  text-align: center;\\n  border: 1px solid #6b1a0d;\\n  padding: 4px 13px 20px;\\n  border-radius: 48px;\\n  margin: 0 13px;\\n}\\n\\n.back {\\n  padding: 6px 0px;\\n  text-decoration: underline;\\n  position: absolute;\\n  left: 10px;\\n  top: 17px;\\n  font-size: 18px;\\n  color: #ffffff;\\n  background: rgba(0, 0, 0, 0.78);\\n  border-radius: 50px;\\n  height: 30px;\\n  width: 30px;\\n  text-align: center;\\n  box-shadow: 0px 2px 4px #585858;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoYW5nZS1wYXNzd29yZC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDQywwQkFBQTtBQUNEOztBQUlBO0VBQ0Msa0JBQUE7RUFDQSx5QkFBQTtFQUNBLHNCQUFBO0VBQ0EsbUJBQUE7RUFDQSxjQUFBO0FBREQ7O0FBR0E7RUFDQyxnQkFBQTtFQUNBLDBCQUFBO0VBQ0Esa0JBQUE7RUFDQSxVQUFBO0VBQ0EsU0FBQTtFQUNBLGVBQUE7RUFDQSxjQUFBO0VBQ0EsK0JBQUE7RUFDQSxtQkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSwrQkFBQTtBQUFEIiwiZmlsZSI6ImNoYW5nZS1wYXNzd29yZC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24taXRlbSB7XG5cdHBhZGRpbmc6IDAgMTVweCAhaW1wb3J0YW50O1xuXHQvLyAgIC5pb24tbGFiZWwge1xuXHQvLyAgICAgbWFyZ2luOiAwIGF1dG8gIWltcG9ydGFudDtcblx0Ly8gICB9XG59XG4uYnJkZSB7XG5cdHRleHQtYWxpZ246IGNlbnRlcjtcblx0Ym9yZGVyOiAxcHggc29saWQgIzZiMWEwZDtcblx0cGFkZGluZzogNHB4IDEzcHggMjBweDtcblx0Ym9yZGVyLXJhZGl1czogNDhweDtcblx0bWFyZ2luOiAwIDEzcHg7XG59XG4uYmFjayB7XG5cdHBhZGRpbmc6IDZweCAwcHg7XG5cdHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xuXHRwb3NpdGlvbjogYWJzb2x1dGU7XG5cdGxlZnQ6IDEwcHg7XG5cdHRvcDogMTdweDtcblx0Zm9udC1zaXplOiAxOHB4O1xuXHRjb2xvcjogI2ZmZmZmZjtcblx0YmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjc4KTtcblx0Ym9yZGVyLXJhZGl1czogNTBweDtcblx0aGVpZ2h0OiAzMHB4O1xuXHR3aWR0aDogMzBweDtcblx0dGV4dC1hbGlnbjogY2VudGVyO1xuXHRib3gtc2hhZG93OiAwcHggMnB4IDRweCAjNTg1ODU4O1xufVxuICAgICAgICAiXX0= */\";","export default \"<ion-header>\\n  <ion-toolbar color=\\\"menu\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"home\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Change Password</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <div class=\\\"text-center\\\" style=\\\"text-align: center;\\\">\\n    <img src=\\\"../../../assets/images/banner_2.png\\\" class=\\\"img-fluid\\\" alt=\\\"\\\" />\\n  </div>\\n\\n  <div class=\\\"brde\\\">\\n    <h3>Change Password</h3>\\n    <form style=\\\"margin-top: 10px;\\\" [formGroup]=\\\"changeForm\\\">\\n      <ion-item class=\\\"form-group\\\">\\n        <ion-label position=\\\"floating\\\">Old Password</ion-label>\\n        <ion-input\\n        type=\\\"password\\\"\\n        clearOnEdit=\\\"false\\\"\\n        formControlName=\\\"oldpassword\\\"\\n        class=\\\"form-control\\\"\\n        [ngClass]=\\\"{ 'is-invalid': submitted && f.oldpassword.errors }\\\"\\n        ></ion-input>\\n        <div\\n          *ngIf=\\\"submitted && f.oldpassword.errors\\\"\\n          class=\\\"invalid-feedback red\\\"\\n        >\\n          <div *ngIf=\\\"f.oldpassword.errors.required\\\">\\n            Old Password is required\\n          </div>\\n          <div *ngIf=\\\"f.oldpassword.errors.minlength\\\">\\n            Old Password must be at least 6 characters\\n          </div>\\n        </div>\\n      </ion-item>\\n      <ion-item class=\\\"form-group\\\">\\n        <ion-label position=\\\"floating\\\">New Password</ion-label>\\n        <ion-input\\n        type=\\\"password\\\"\\n        clearOnEdit=\\\"false\\\"\\n        formControlName=\\\"password\\\"\\n        class=\\\"form-control\\\"\\n        [ngClass]=\\\"{ 'is-invalid': submitted && f.password.errors }\\\"\\n        ></ion-input>\\n        <div\\n          *ngIf=\\\"submitted && f.password.errors\\\"\\n          class=\\\"invalid-feedback red\\\"\\n        >\\n          <div *ngIf=\\\"f.password.errors.required\\\">\\n            New Password is required\\n          </div>\\n          <div *ngIf=\\\"f.password.errors.minlength\\\">\\n            New Password must be at least 6 characters\\n          </div>\\n        </div>\\n      </ion-item>\\n\\n      <ion-item class=\\\"form-group\\\">\\n        <ion-label position=\\\"floating\\\">Confirm Password</ion-label>\\n        <ion-input\\n        clearOnEdit=\\\"false\\\"\\n        type=\\\"password\\\"\\n        formControlName=\\\"confirmPassword\\\"\\n        class=\\\"form-control\\\"\\n        [ngClass]=\\\"{ 'is-invalid': submitted && f.confirmPassword.errors }\\\"\\n          \\n        ></ion-input>\\n        <div\\n          *ngIf=\\\"submitted && f.confirmPassword.errors\\\"\\n          class=\\\"invalid-feedback red\\\"\\n        >\\n          <div *ngIf=\\\"f.confirmPassword.errors.required\\\">\\n            Confirm Password is required\\n          </div>\\n          <div *ngIf=\\\"f.confirmPassword.errors.mustMatch\\\">\\n            Password miss match\\n          </div>\\n        </div>\\n      </ion-item>\\n      <!-- <p text-center>{{err}}</p> -->\\n      <div text-center style=\\\"margin-top: 10px;\\\">\\n        <ion-button padding class=\\\"btn btn-primary\\\" (click)=\\\"onSubmit()\\\" color=\\\"tertiary\\\"\\n          >Submit</ion-button\\n        >\\n      </div>\\n    </form>\\n  </div>\\n</ion-content>\";"]}