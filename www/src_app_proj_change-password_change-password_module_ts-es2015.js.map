{"version":3,"sources":["./src/app/proj/change-password/change-password-routing.module.ts","./src/app/proj/change-password/change-password.module.ts","./src/app/proj/change-password/change-password.page.ts","./src/app/proj/change-password/change-password.page.scss","./src/app/proj/change-password/change-password.page.html"],"names":[],"mappings":"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","file":"src_app_proj_change-password_change-password_module_ts-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ChangePasswordPage } from './change-password.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ChangePasswordPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ChangePasswordPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ChangePasswordPageRoutingModule } from './change-password-routing.module';\n\nimport { ChangePasswordPage } from './change-password.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    ChangePasswordPageRoutingModule\n  ],\n  declarations: [ChangePasswordPage]\n})\nexport class ChangePasswordPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\nimport { MustMatch, GeneralService } from \"src/app/services/general.service\";\nimport { AuthService } from \"src/app/services/auth.service\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\n\n@Component({\n  selector: 'app-change-password',\n  templateUrl: './change-password.page.html',\n  styleUrls: ['./change-password.page.scss'],\n})\nexport class ChangePasswordPage implements OnInit {\n\n  changeForm: FormGroup;\n  submitted = false;\n  mob: any;\n  err: any;\n  token: any;\n\n  constructor(\n    private formBuilder: FormBuilder,\n    public authService: AuthService,\n    private router: Router,\n    public generalts: GeneralService,\n    public actroute: ActivatedRoute\n  ) { }\n\n  ngOnInit() {\n    this.changeForm = this.formBuilder.group(\n      {\n        oldpassword: [\"\", [Validators.required, Validators.minLength(6)]],\n        password: [\"\", [Validators.required, Validators.minLength(6)]],\n        confirmPassword: [\"\", Validators.required]\n      },\n      {\n        validator: MustMatch(\"password\", \"confirmPassword\")\n      }\n    );\n  }\n\n  ionViewWillEnter() {\n    this.token = localStorage.getItem(\"pas_faculty\");\n    \n  }\n   // convenience getter for easy access to form fields\n   get f() {\n    return this.changeForm.controls;\n  }\n\n\n  async onSubmit() {\n    this.submitted = true;\n\n    // stop here if form is invalid\n    if (this.changeForm.invalid) {\n      return;\n    } else {\n      //console.log(this.changeForm.value.confirmPassword, \"reg\"); \n      var pas = {\n        \"existingPassword\": this.changeForm.value.oldpassword,\n        \"newPassword\" : this.changeForm.value.password,\n        \"changePassword\" : true,\n        \"password\" : \"\",\n        \"password_confirm\" : \"\"\n      };\n      \n      console.log(pas);;\n      this.generalts.loadingPresent()\n      var token = localStorage.getItem(\"pas_tok\");\n      \n      this.authService.g_postt(pas, \"change-password\", token).subscribe(\n        sa => {\n          console.log(sa, \"da\");\n          if (sa.message) {\n            let status = sa.status;\n            let message = sa  .message;\n            this.generalts.showToast(message);\n            if(status == 'success') {\n              this.router.navigateByUrl('/home');\n              this.changeForm.reset();\n            }\n            this.generalts.loadingDismiss();\n            localStorage.setItem(\"*/\", this.mob);\n            //localStorage.setItem(\"asd\", this.mob);\n          }\n          // else if (sa.status != true) {\n          //   this.err = sa.status;\n          // }\n        },\n        error => {\n          this.generalts.loadingDismiss();\n          console.error(\"Error!\", error.status_code, error.message);\n          if (error.status == 401) {\n            this.authService.loginAgain();\n            //this.router.navigateByUrl('/login');\n          } else if (error.status_code == 400) {\n            this.err = error.message;\n          }\n        }\n      );\n\n    }\n\n  }\n\n}\n","export default \"ion-item {\\n  padding: 0 15px !important;\\n}\\n\\n.brde {\\n  text-align: center;\\n  border: 1px solid #6b1a0d;\\n  padding: 4px 13px 20px;\\n  border-radius: 48px;\\n  margin: 0 13px;\\n}\\n\\n.back {\\n  padding: 6px 0px;\\n  text-decoration: underline;\\n  position: absolute;\\n  left: 10px;\\n  top: 17px;\\n  font-size: 18px;\\n  color: #ffffff;\\n  background: rgba(0, 0, 0, 0.78);\\n  border-radius: 50px;\\n  height: 30px;\\n  width: 30px;\\n  text-align: center;\\n  box-shadow: 0px 2px 4px #585858;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoYW5nZS1wYXNzd29yZC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDQywwQkFBQTtBQUNEOztBQUlBO0VBQ0Msa0JBQUE7RUFDQSx5QkFBQTtFQUNBLHNCQUFBO0VBQ0EsbUJBQUE7RUFDQSxjQUFBO0FBREQ7O0FBR0E7RUFDQyxnQkFBQTtFQUNBLDBCQUFBO0VBQ0Esa0JBQUE7RUFDQSxVQUFBO0VBQ0EsU0FBQTtFQUNBLGVBQUE7RUFDQSxjQUFBO0VBQ0EsK0JBQUE7RUFDQSxtQkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSwrQkFBQTtBQUFEIiwiZmlsZSI6ImNoYW5nZS1wYXNzd29yZC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24taXRlbSB7XG5cdHBhZGRpbmc6IDAgMTVweCAhaW1wb3J0YW50O1xuXHQvLyAgIC5pb24tbGFiZWwge1xuXHQvLyAgICAgbWFyZ2luOiAwIGF1dG8gIWltcG9ydGFudDtcblx0Ly8gICB9XG59XG4uYnJkZSB7XG5cdHRleHQtYWxpZ246IGNlbnRlcjtcblx0Ym9yZGVyOiAxcHggc29saWQgIzZiMWEwZDtcblx0cGFkZGluZzogNHB4IDEzcHggMjBweDtcblx0Ym9yZGVyLXJhZGl1czogNDhweDtcblx0bWFyZ2luOiAwIDEzcHg7XG59XG4uYmFjayB7XG5cdHBhZGRpbmc6IDZweCAwcHg7XG5cdHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xuXHRwb3NpdGlvbjogYWJzb2x1dGU7XG5cdGxlZnQ6IDEwcHg7XG5cdHRvcDogMTdweDtcblx0Zm9udC1zaXplOiAxOHB4O1xuXHRjb2xvcjogI2ZmZmZmZjtcblx0YmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjc4KTtcblx0Ym9yZGVyLXJhZGl1czogNTBweDtcblx0aGVpZ2h0OiAzMHB4O1xuXHR3aWR0aDogMzBweDtcblx0dGV4dC1hbGlnbjogY2VudGVyO1xuXHRib3gtc2hhZG93OiAwcHggMnB4IDRweCAjNTg1ODU4O1xufVxuICAgICAgICAiXX0= */\";","export default \"<ion-header>\\n  <ion-toolbar color=\\\"menu\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"home\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Change Password</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <div class=\\\"text-center\\\" style=\\\"text-align: center;\\\">\\n    <img src=\\\"../../../assets/images/banner_2.png\\\" class=\\\"img-fluid\\\" alt=\\\"\\\" />\\n  </div>\\n\\n  <div class=\\\"brde\\\">\\n    <h3>Change Password</h3>\\n    <form style=\\\"margin-top: 10px;\\\" [formGroup]=\\\"changeForm\\\">\\n      <ion-item class=\\\"form-group\\\">\\n        <ion-label position=\\\"floating\\\">Old Password</ion-label>\\n        <ion-input\\n        type=\\\"password\\\"\\n        clearOnEdit=\\\"false\\\"\\n        formControlName=\\\"oldpassword\\\"\\n        class=\\\"form-control\\\"\\n        [ngClass]=\\\"{ 'is-invalid': submitted && f.oldpassword.errors }\\\"\\n        ></ion-input>\\n        <div\\n          *ngIf=\\\"submitted && f.oldpassword.errors\\\"\\n          class=\\\"invalid-feedback red\\\"\\n        >\\n          <div *ngIf=\\\"f.oldpassword.errors.required\\\">\\n            Old Password is required\\n          </div>\\n          <div *ngIf=\\\"f.oldpassword.errors.minlength\\\">\\n            Old Password must be at least 6 characters\\n          </div>\\n        </div>\\n      </ion-item>\\n      <ion-item class=\\\"form-group\\\">\\n        <ion-label position=\\\"floating\\\">New Password</ion-label>\\n        <ion-input\\n        type=\\\"password\\\"\\n        clearOnEdit=\\\"false\\\"\\n        formControlName=\\\"password\\\"\\n        class=\\\"form-control\\\"\\n        [ngClass]=\\\"{ 'is-invalid': submitted && f.password.errors }\\\"\\n        ></ion-input>\\n        <div\\n          *ngIf=\\\"submitted && f.password.errors\\\"\\n          class=\\\"invalid-feedback red\\\"\\n        >\\n          <div *ngIf=\\\"f.password.errors.required\\\">\\n            New Password is required\\n          </div>\\n          <div *ngIf=\\\"f.password.errors.minlength\\\">\\n            New Password must be at least 6 characters\\n          </div>\\n        </div>\\n      </ion-item>\\n\\n      <ion-item class=\\\"form-group\\\">\\n        <ion-label position=\\\"floating\\\">Confirm Password</ion-label>\\n        <ion-input\\n        clearOnEdit=\\\"false\\\"\\n        type=\\\"password\\\"\\n        formControlName=\\\"confirmPassword\\\"\\n        class=\\\"form-control\\\"\\n        [ngClass]=\\\"{ 'is-invalid': submitted && f.confirmPassword.errors }\\\"\\n          \\n        ></ion-input>\\n        <div\\n          *ngIf=\\\"submitted && f.confirmPassword.errors\\\"\\n          class=\\\"invalid-feedback red\\\"\\n        >\\n          <div *ngIf=\\\"f.confirmPassword.errors.required\\\">\\n            Confirm Password is required\\n          </div>\\n          <div *ngIf=\\\"f.confirmPassword.errors.mustMatch\\\">\\n            Password miss match\\n          </div>\\n        </div>\\n      </ion-item>\\n      <!-- <p text-center>{{err}}</p> -->\\n      <div text-center style=\\\"margin-top: 10px;\\\">\\n        <ion-button padding class=\\\"btn btn-primary\\\" (click)=\\\"onSubmit()\\\" color=\\\"tertiary\\\"\\n          >Submit</ion-button\\n        >\\n      </div>\\n    </form>\\n  </div>\\n</ion-content>\";"],"sourceRoot":"webpack:///"}